üöÄ Starting Mindwhile ERP...

‚úÖ All services ready!

üìö Starting FastAPI application...
   Docs: http://localhost:8000/docs
   ReDoc: http://localhost:8000/redoc

Press Ctrl+C to stop the server

INFO:     Will watch for changes in these directories: ['/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi']
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
INFO:     Started reloader process [32441] using WatchFiles
INFO:     Started server process [32443]
INFO:     Waiting for application startup.
INFO:     Application startup complete.

============================================================
üè´ Mindwhile ERP - Multi-Tenant Architecture v2.0
============================================================

üìö API Documentation:
   Swagger UI: http://localhost:8000/docs
   ReDoc:      http://localhost:8000/redoc

üîß Tenant Resolution:
   Header: X-Tenant-ID or X-Tenant-Subdomain
   Subdomain: schoolname.erp.com

‚ö†Ô∏è  Note: Existing modules need async conversion
   Core infrastructure is ready for integration
============================================================

üöÄ Starting Mindwhile ERP - Multi-Tenant Architecture
üìä Master DB: localhost:3306/master_registry
üî¥ Redis: localhost:6379
‚úÖ Redis cache connected
‚úÖ Redis cache connected
INFO:     127.0.0.1:56837 - "GET /api/v1/super-admin/me HTTP/1.1" 403 Forbidden
2026-02-22 14:50:42,087 INFO sqlalchemy.engine.Engine SELECT DATABASE()
2026-02-22 14:50:42,087 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-22 14:50:42,088 INFO sqlalchemy.engine.Engine SELECT @@sql_mode
2026-02-22 14:50:42,088 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-22 14:50:42,089 INFO sqlalchemy.engine.Engine SELECT @@lower_case_table_names
2026-02-22 14:50:42,089 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-22 14:50:42,089 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-22 14:50:42,093 INFO sqlalchemy.engine.Engine SELECT super_admins.id, super_admins.email, super_admins.username, super_admins.hashed_password, super_admins.full_name, super_admins.is_active, super_admins.phone, super_admins.position, super_admins.location, super_admins.state, super_admins.pin, super_admins.zip, super_admins.tax_no, super_admins.facebook_url, super_admins.twitter_url, super_admins.github_url, super_admins.dribbble_url, super_admins.created_at 
FROM super_admins 
WHERE super_admins.username = %s
2026-02-22 14:50:42,093 INFO sqlalchemy.engine.Engine [generated in 0.00016s] ('superadmin1',)
2026-02-22 14:50:42,094 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:56839 - "POST /api/v1/super-admin/login HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/sqlalchemy/dialects/mysql/aiomysql.py", line 95, in execute
    return self.await_(self._execute_async(operation, parameters))
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/sqlalchemy/dialects/mysql/aiomysql.py", line 104, in _execute_async
    result = await self._cursor.execute(operation, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/aiomysql/cursors.py", line 239, in execute
    await self._query(query)
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/aiomysql/cursors.py", line 457, in _query
    await conn.query(q)
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/aiomysql/connection.py", line 469, in query
    await self._read_query_result(unbuffered=unbuffered)
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/aiomysql/connection.py", line 683, in _read_query_result
    await result.read()
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/aiomysql/connection.py", line 1164, in read
    first_packet = await self.connection._read_packet()
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/aiomysql/connection.py", line 652, in _read_packet
    packet.raise_for_error()
    ~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/pymysql/protocol.py", line 219, in raise_for_error
    err.raise_mysql_exception(self._data)
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.OperationalError: (1054, "Unknown column 'super_admins.phone' in 'field list'")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/uvicorn/protocols/http/httptools_impl.py", line 401, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 62, in wrapped_app
    raise exc
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/starlette/routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/starlette/routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 62, in wrapped_app
    raise exc
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/app/modules/super_admin/router.py", line 23, in login
    result = await db.execute(
             ^^^^^^^^^^^^^^^^^
        select(SuperAdmin).where(SuperAdmin.username == login_data.username)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py", line 461, in execute
    result = await greenlet_spawn(
             ^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py", line 305, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/sqlalchemy/dialects/mysql/aiomysql.py", line 95, in execute
    return self.await_(self._execute_async(operation, parameters))
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/sqlalchemy/dialects/mysql/aiomysql.py", line 104, in _execute_async
    result = await self._cursor.execute(operation, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/aiomysql/cursors.py", line 239, in execute
    await self._query(query)
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/aiomysql/cursors.py", line 457, in _query
    await conn.query(q)
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/aiomysql/connection.py", line 469, in query
    await self._read_query_result(unbuffered=unbuffered)
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/aiomysql/connection.py", line 683, in _read_query_result
    await result.read()
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/aiomysql/connection.py", line 1164, in read
    first_packet = await self.connection._read_packet()
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/aiomysql/connection.py", line 652, in _read_packet
    packet.raise_for_error()
    ~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/pymysql/protocol.py", line 219, in raise_for_error
    err.raise_mysql_exception(self._data)
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
    raise errorclass(errno, errval)
sqlalchemy.exc.OperationalError: (pymysql.err.OperationalError) (1054, "Unknown column 'super_admins.phone' in 'field list'")
[SQL: SELECT super_admins.id, super_admins.email, super_admins.username, super_admins.hashed_password, super_admins.full_name, super_admins.is_active, super_admins.phone, super_admins.position, super_admins.location, super_admins.state, super_admins.pin, super_admins.zip, super_admins.tax_no, super_admins.facebook_url, super_admins.twitter_url, super_admins.github_url, super_admins.dribbble_url, super_admins.created_at 
FROM super_admins 
WHERE super_admins.username = %s]
[parameters: ('superadmin1',)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
WARNING:  WatchFiles detected changes in 'fix_alembic.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [32443]
INFO:     Started server process [33219]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'fix_alembic.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [33219]
INFO:     Started server process [33256]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'alembic/versions/d92284d137f9_add_profile_fields_to_superadmin.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [33256]
INFO:     Started server process [33534]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'alembic/versions/f4f09b78cd33_add_profile_fields_to_superadmin_.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [33534]
INFO:     Started server process [34458]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'alembic/versions/f4f09b78cd33_add_profile_fields_to_superadmin_.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [34458]
WARNING:  WatchFiles detected changes in 'alembic/versions/59f8f47ed882_manual_profile_fields.py'. Reloading...
INFO:     Started server process [34744]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Started server process [34747]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'alembic/versions/59f8f47ed882_manual_profile_fields.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [34747]
INFO:     Started server process [34765]
INFO:     Waiting for application startup.
INFO:     Application startup complete.

============================================================
üè´ Mindwhile ERP - Multi-Tenant Architecture v2.0
============================================================

üìö API Documentation:
   Swagger UI: http://localhost:8000/docs
   ReDoc:      http://localhost:8000/redoc

üîß Tenant Resolution:
   Header: X-Tenant-ID or X-Tenant-Subdomain
   Subdomain: schoolname.erp.com

‚ö†Ô∏è  Note: Existing modules need async conversion
   Core infrastructure is ready for integration
============================================================

üöÄ Starting Mindwhile ERP - Multi-Tenant Architecture
üìä Master DB: localhost:3306/master_registry
üî¥ Redis: localhost:6379
‚úÖ Redis cache connected
‚úÖ Redis cache connected
2026-02-22 14:54:35,614 INFO sqlalchemy.engine.Engine SELECT DATABASE()
2026-02-22 14:54:35,614 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-22 14:54:35,614 INFO sqlalchemy.engine.Engine SELECT @@sql_mode
2026-02-22 14:54:35,614 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-22 14:54:35,615 INFO sqlalchemy.engine.Engine SELECT @@lower_case_table_names
2026-02-22 14:54:35,615 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-22 14:54:35,615 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-22 14:54:35,616 INFO sqlalchemy.engine.Engine SELECT super_admins.id, super_admins.email, super_admins.username, super_admins.hashed_password, super_admins.full_name, super_admins.is_active, super_admins.phone, super_admins.position, super_admins.location, super_admins.state, super_admins.pin, super_admins.zip, super_admins.tax_no, super_admins.facebook_url, super_admins.twitter_url, super_admins.github_url, super_admins.dribbble_url, super_admins.created_at 
FROM super_admins 
WHERE super_admins.username = %s
2026-02-22 14:54:35,616 INFO sqlalchemy.engine.Engine [generated in 0.00006s] ('superadmin1',)
2026-02-22 14:54:35,617 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:56905 - "POST /api/v1/super-admin/login HTTP/1.1" 401 Unauthorized
WARNING:  WatchFiles detected changes in 'seed_super_admin.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [34765]
INFO:     Started server process [34903]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'seed_super_admin.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [34903]
INFO:     Started server process [35076]
INFO:     Waiting for application startup.
INFO:     Application startup complete.

============================================================
üè´ Mindwhile ERP - Multi-Tenant Architecture v2.0
============================================================

üìö API Documentation:
   Swagger UI: http://localhost:8000/docs
   ReDoc:      http://localhost:8000/redoc

üîß Tenant Resolution:
   Header: X-Tenant-ID or X-Tenant-Subdomain
   Subdomain: schoolname.erp.com

‚ö†Ô∏è  Note: Existing modules need async conversion
   Core infrastructure is ready for integration
============================================================

üöÄ Starting Mindwhile ERP - Multi-Tenant Architecture
üìä Master DB: localhost:3306/master_registry
üî¥ Redis: localhost:6379
‚úÖ Redis cache connected
‚úÖ Redis cache connected
2026-02-22 14:55:22,884 INFO sqlalchemy.engine.Engine SELECT DATABASE()
2026-02-22 14:55:22,884 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-22 14:55:22,885 INFO sqlalchemy.engine.Engine SELECT @@sql_mode
2026-02-22 14:55:22,885 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-22 14:55:22,885 INFO sqlalchemy.engine.Engine SELECT @@lower_case_table_names
2026-02-22 14:55:22,885 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-22 14:55:22,886 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-22 14:55:22,887 INFO sqlalchemy.engine.Engine SELECT super_admins.id, super_admins.email, super_admins.username, super_admins.hashed_password, super_admins.full_name, super_admins.is_active, super_admins.phone, super_admins.position, super_admins.location, super_admins.state, super_admins.pin, super_admins.zip, super_admins.tax_no, super_admins.facebook_url, super_admins.twitter_url, super_admins.github_url, super_admins.dribbble_url, super_admins.created_at 
FROM super_admins 
WHERE super_admins.username = %s
2026-02-22 14:55:22,887 INFO sqlalchemy.engine.Engine [generated in 0.00007s] ('superadmin1',)
(trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
2026-02-22 14:55:23,076 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:56921 - "POST /api/v1/super-admin/login HTTP/1.1" 200 OK
2026-02-22 14:55:23,081 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-22 14:55:23,082 INFO sqlalchemy.engine.Engine SELECT super_admins.id, super_admins.email, super_admins.username, super_admins.hashed_password, super_admins.full_name, super_admins.is_active, super_admins.phone, super_admins.position, super_admins.location, super_admins.state, super_admins.pin, super_admins.zip, super_admins.tax_no, super_admins.facebook_url, super_admins.twitter_url, super_admins.github_url, super_admins.dribbble_url, super_admins.created_at 
FROM super_admins 
WHERE super_admins.id = %s
2026-02-22 14:55:23,082 INFO sqlalchemy.engine.Engine [generated in 0.00006s] (1,)
2026-02-22 14:55:23,083 INFO sqlalchemy.engine.Engine UPDATE super_admins SET full_name=%s, phone=%s, position=%s, location=%s, state=%s, pin=%s, zip=%s, tax_no=%s, facebook_url=%s, twitter_url=%s, github_url=%s, dribbble_url=%s WHERE super_admins.id = %s
2026-02-22 14:55:23,083 INFO sqlalchemy.engine.Engine [generated in 0.00006s] ('Venkata Narayana reddy', '9182387725', 'Super Admin', '', '', '', '', '', 'https://github.com/vnrtumu', 'https://github.com/vnrtumu', 'https://github.com/vnrtumu', 'https://github.com/vnrtumu', 1)
2026-02-22 14:55:23,084 INFO sqlalchemy.engine.Engine COMMIT
2026-02-22 14:55:23,084 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-22 14:55:23,085 INFO sqlalchemy.engine.Engine SELECT super_admins.id, super_admins.email, super_admins.username, super_admins.hashed_password, super_admins.full_name, super_admins.is_active, super_admins.phone, super_admins.position, super_admins.location, super_admins.state, super_admins.pin, super_admins.zip, super_admins.tax_no, super_admins.facebook_url, super_admins.twitter_url, super_admins.github_url, super_admins.dribbble_url, super_admins.created_at 
FROM super_admins 
WHERE super_admins.id = %s
2026-02-22 14:55:23,085 INFO sqlalchemy.engine.Engine [generated in 0.00005s] (1,)
2026-02-22 14:55:23,085 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:56924 - "PUT /api/v1/super-admin/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:56949 - "GET /api/v1/super-admin/me HTTP/1.1" 403 Forbidden
INFO:     127.0.0.1:56957 - "OPTIONS /api/v1/super-admin/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:56957 - "PUT /api/v1/super-admin/me HTTP/1.1" 403 Forbidden
INFO:     127.0.0.1:56994 - "OPTIONS /api/v1/super-admin/login HTTP/1.1" 200 OK
2026-02-22 14:57:43,622 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-22 14:57:43,624 INFO sqlalchemy.engine.Engine SELECT super_admins.id, super_admins.email, super_admins.username, super_admins.hashed_password, super_admins.full_name, super_admins.is_active, super_admins.phone, super_admins.position, super_admins.location, super_admins.state, super_admins.pin, super_admins.zip, super_admins.tax_no, super_admins.facebook_url, super_admins.twitter_url, super_admins.github_url, super_admins.dribbble_url, super_admins.created_at 
FROM super_admins 
WHERE super_admins.username = %s
2026-02-22 14:57:43,624 INFO sqlalchemy.engine.Engine [cached since 140.7s ago] ('superadmin1',)
2026-02-22 14:57:43,822 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:56994 - "POST /api/v1/super-admin/login HTTP/1.1" 200 OK
INFO:     127.0.0.1:56996 - "OPTIONS /api/v1/super-admin/me HTTP/1.1" 200 OK
2026-02-22 14:57:50,705 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-22 14:57:50,705 INFO sqlalchemy.engine.Engine SELECT super_admins.id, super_admins.email, super_admins.username, super_admins.hashed_password, super_admins.full_name, super_admins.is_active, super_admins.phone, super_admins.position, super_admins.location, super_admins.state, super_admins.pin, super_admins.zip, super_admins.tax_no, super_admins.facebook_url, super_admins.twitter_url, super_admins.github_url, super_admins.dribbble_url, super_admins.created_at 
FROM super_admins 
WHERE super_admins.id = %s
2026-02-22 14:57:50,705 INFO sqlalchemy.engine.Engine [cached since 147.6s ago] (1,)
2026-02-22 14:57:50,706 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:56996 - "GET /api/v1/super-admin/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:57008 - "OPTIONS /api/v1/super-admin/me HTTP/1.1" 200 OK
2026-02-22 14:58:31,944 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-22 14:58:31,945 INFO sqlalchemy.engine.Engine SELECT super_admins.id, super_admins.email, super_admins.username, super_admins.hashed_password, super_admins.full_name, super_admins.is_active, super_admins.phone, super_admins.position, super_admins.location, super_admins.state, super_admins.pin, super_admins.zip, super_admins.tax_no, super_admins.facebook_url, super_admins.twitter_url, super_admins.github_url, super_admins.dribbble_url, super_admins.created_at 
FROM super_admins 
WHERE super_admins.id = %s
2026-02-22 14:58:31,945 INFO sqlalchemy.engine.Engine [cached since 188.9s ago] (1,)
2026-02-22 14:58:31,947 INFO sqlalchemy.engine.Engine COMMIT
2026-02-22 14:58:31,948 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-22 14:58:31,949 INFO sqlalchemy.engine.Engine SELECT super_admins.id, super_admins.email, super_admins.username, super_admins.hashed_password, super_admins.full_name, super_admins.is_active, super_admins.phone, super_admins.position, super_admins.location, super_admins.state, super_admins.pin, super_admins.zip, super_admins.tax_no, super_admins.facebook_url, super_admins.twitter_url, super_admins.github_url, super_admins.dribbble_url, super_admins.created_at 
FROM super_admins 
WHERE super_admins.id = %s
2026-02-22 14:58:31,949 INFO sqlalchemy.engine.Engine [cached since 188.9s ago] (1,)
2026-02-22 14:58:31,950 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:57008 - "PUT /api/v1/super-admin/me HTTP/1.1" 200 OK
2026-02-22 14:58:55,623 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-22 14:58:55,623 INFO sqlalchemy.engine.Engine SELECT super_admins.id, super_admins.email, super_admins.username, super_admins.hashed_password, super_admins.full_name, super_admins.is_active, super_admins.phone, super_admins.position, super_admins.location, super_admins.state, super_admins.pin, super_admins.zip, super_admins.tax_no, super_admins.facebook_url, super_admins.twitter_url, super_admins.github_url, super_admins.dribbble_url, super_admins.created_at 
FROM super_admins 
WHERE super_admins.id = %s
2026-02-22 14:58:55,623 INFO sqlalchemy.engine.Engine [cached since 212.5s ago] (1,)
2026-02-22 14:58:55,625 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:57018 - "GET /api/v1/super-admin/me HTTP/1.1" 200 OK
2026-02-22 15:00:15,790 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-22 15:00:15,791 INFO sqlalchemy.engine.Engine SELECT super_admins.id, super_admins.email, super_admins.username, super_admins.hashed_password, super_admins.full_name, super_admins.is_active, super_admins.phone, super_admins.position, super_admins.location, super_admins.state, super_admins.pin, super_admins.zip, super_admins.tax_no, super_admins.facebook_url, super_admins.twitter_url, super_admins.github_url, super_admins.dribbble_url, super_admins.created_at 
FROM super_admins 
WHERE super_admins.id = %s
2026-02-22 15:00:15,791 INFO sqlalchemy.engine.Engine [cached since 292.7s ago] (1,)
2026-02-22 15:00:15,793 INFO sqlalchemy.engine.Engine UPDATE super_admins SET position=%s WHERE super_admins.id = %s
2026-02-22 15:00:15,793 INFO sqlalchemy.engine.Engine [generated in 0.00023s] ('Super Administrator', 1)
2026-02-22 15:00:15,794 INFO sqlalchemy.engine.Engine COMMIT
2026-02-22 15:00:15,795 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-22 15:00:15,796 INFO sqlalchemy.engine.Engine SELECT super_admins.id, super_admins.email, super_admins.username, super_admins.hashed_password, super_admins.full_name, super_admins.is_active, super_admins.phone, super_admins.position, super_admins.location, super_admins.state, super_admins.pin, super_admins.zip, super_admins.tax_no, super_admins.facebook_url, super_admins.twitter_url, super_admins.github_url, super_admins.dribbble_url, super_admins.created_at 
FROM super_admins 
WHERE super_admins.id = %s
2026-02-22 15:00:15,796 INFO sqlalchemy.engine.Engine [cached since 292.7s ago] (1,)
2026-02-22 15:00:15,797 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:57050 - "PUT /api/v1/super-admin/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:57576 - "OPTIONS /api/v1/super-admin/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:57576 - "PUT /api/v1/super-admin/me HTTP/1.1" 401 Unauthorized
INFO:     127.0.0.1:57578 - "OPTIONS /api/v1/super-admin/login HTTP/1.1" 200 OK
2026-02-22 15:55:10,166 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-22 15:55:10,168 INFO sqlalchemy.engine.Engine SELECT super_admins.id, super_admins.email, super_admins.username, super_admins.hashed_password, super_admins.full_name, super_admins.is_active, super_admins.phone, super_admins.position, super_admins.location, super_admins.state, super_admins.pin, super_admins.zip, super_admins.tax_no, super_admins.facebook_url, super_admins.twitter_url, super_admins.github_url, super_admins.dribbble_url, super_admins.created_at 
FROM super_admins 
WHERE super_admins.username = %s
2026-02-22 15:55:10,168 INFO sqlalchemy.engine.Engine [cached since 3587s ago] ('superadmin@example.com',)
2026-02-22 15:55:10,171 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:57578 - "POST /api/v1/super-admin/login HTTP/1.1" 401 Unauthorized
2026-02-22 15:55:20,741 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-22 15:55:20,741 INFO sqlalchemy.engine.Engine SELECT super_admins.id, super_admins.email, super_admins.username, super_admins.hashed_password, super_admins.full_name, super_admins.is_active, super_admins.phone, super_admins.position, super_admins.location, super_admins.state, super_admins.pin, super_admins.zip, super_admins.tax_no, super_admins.facebook_url, super_admins.twitter_url, super_admins.github_url, super_admins.dribbble_url, super_admins.created_at 
FROM super_admins 
WHERE super_admins.username = %s
2026-02-22 15:55:20,741 INFO sqlalchemy.engine.Engine [cached since 3598s ago] ('superadmin@example.com',)
2026-02-22 15:55:20,742 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:57590 - "POST /api/v1/super-admin/login HTTP/1.1" 401 Unauthorized
2026-02-22 15:55:56,927 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-22 15:55:56,928 INFO sqlalchemy.engine.Engine SELECT super_admins.id, super_admins.email, super_admins.username, super_admins.hashed_password, super_admins.full_name, super_admins.is_active, super_admins.phone, super_admins.position, super_admins.location, super_admins.state, super_admins.pin, super_admins.zip, super_admins.tax_no, super_admins.facebook_url, super_admins.twitter_url, super_admins.github_url, super_admins.dribbble_url, super_admins.created_at 
FROM super_admins 
WHERE super_admins.username = %s
2026-02-22 15:55:56,928 INFO sqlalchemy.engine.Engine [cached since 3634s ago] ('superadmin1',)
2026-02-22 15:55:57,131 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:57694 - "POST /api/v1/super-admin/login HTTP/1.1" 200 OK
2026-02-22 15:55:57,137 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-22 15:55:57,137 INFO sqlalchemy.engine.Engine SELECT super_admins.id, super_admins.email, super_admins.username, super_admins.hashed_password, super_admins.full_name, super_admins.is_active, super_admins.phone, super_admins.position, super_admins.location, super_admins.state, super_admins.pin, super_admins.zip, super_admins.tax_no, super_admins.facebook_url, super_admins.twitter_url, super_admins.github_url, super_admins.dribbble_url, super_admins.created_at 
FROM super_admins 
WHERE super_admins.id = %s
2026-02-22 15:55:57,137 INFO sqlalchemy.engine.Engine [cached since 3634s ago] (1,)
2026-02-22 15:55:57,137 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:57694 - "GET /api/v1/super-admin/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:57694 - "OPTIONS /api/v1/master/schools/ HTTP/1.1" 200 OK
2026-02-22 15:55:57,580 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-22 15:55:57,586 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT schools.id AS id, schools.subdomain AS subdomain, schools.name AS name, schools.code AS code, schools.db_host AS db_host, schools.db_port AS db_port, schools.db_name AS db_name, schools.db_user AS db_user, schools.db_password_encrypted AS db_password_encrypted, schools.is_active AS is_active, schools.max_students AS max_students, schools.max_teachers AS max_teachers, schools.subscription_tier AS subscription_tier, schools.email AS email, schools.phone AS phone, schools.created_at AS created_at, schools.updated_at AS updated_at 
FROM schools) AS anon_1
2026-02-22 15:55:57,586 INFO sqlalchemy.engine.Engine [generated in 0.00029s] ()
2026-02-22 15:55:57,591 INFO sqlalchemy.engine.Engine SELECT schools.id, schools.subdomain, schools.name, schools.code, schools.db_host, schools.db_port, schools.db_name, schools.db_user, schools.db_password_encrypted, schools.is_active, schools.max_students, schools.max_teachers, schools.subscription_tier, schools.email, schools.phone, schools.created_at, schools.updated_at 
FROM schools ORDER BY schools.created_at DESC 
 LIMIT %s, %s
2026-02-22 15:55:57,592 INFO sqlalchemy.engine.Engine [generated in 0.00033s] (0, 100)
2026-02-22 15:55:57,593 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:57694 - "GET /api/v1/master/schools/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:57722 - "GET /api/v1/super-admin/me HTTP/1.1" 403 Forbidden
INFO:     127.0.0.1:57722 - "GET /api/v1/super-admin/me HTTP/1.1" 403 Forbidden
INFO:     127.0.0.1:57722 - "GET /api/v1/master/schools/ HTTP/1.1" 403 Forbidden
INFO:     127.0.0.1:57722 - "GET /api/v1/super-admin/me HTTP/1.1" 403 Forbidden
INFO:     127.0.0.1:57764 - "OPTIONS /api/v1/super-admin/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:57764 - "PUT /api/v1/super-admin/me HTTP/1.1" 403 Forbidden
INFO:     127.0.0.1:57766 - "PUT /api/v1/super-admin/me HTTP/1.1" 403 Forbidden
INFO:     127.0.0.1:57823 - "PUT /api/v1/super-admin/me HTTP/1.1" 403 Forbidden
INFO:     127.0.0.1:57833 - "PUT /api/v1/super-admin/me HTTP/1.1" 403 Forbidden
INFO:     127.0.0.1:57863 - "GET /api/v1/super-admin/me HTTP/1.1" 403 Forbidden
INFO:     127.0.0.1:57869 - "GET /api/v1/super-admin/me HTTP/1.1" 403 Forbidden
INFO:     127.0.0.1:57880 - "OPTIONS /api/v1/super-admin/login HTTP/1.1" 200 OK
2026-02-22 16:03:49,453 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-22 16:03:49,453 INFO sqlalchemy.engine.Engine SELECT super_admins.id, super_admins.email, super_admins.username, super_admins.hashed_password, super_admins.full_name, super_admins.is_active, super_admins.phone, super_admins.position, super_admins.location, super_admins.state, super_admins.pin, super_admins.zip, super_admins.tax_no, super_admins.facebook_url, super_admins.twitter_url, super_admins.github_url, super_admins.dribbble_url, super_admins.created_at 
FROM super_admins 
WHERE super_admins.username = %s
2026-02-22 16:03:49,454 INFO sqlalchemy.engine.Engine [cached since 4107s ago] ('superadmin1',)
2026-02-22 16:03:49,650 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:57880 - "POST /api/v1/super-admin/login HTTP/1.1" 200 OK
INFO:     127.0.0.1:57880 - "OPTIONS /api/v1/super-admin/me HTTP/1.1" 200 OK
2026-02-22 16:03:49,656 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-22 16:03:49,656 INFO sqlalchemy.engine.Engine SELECT super_admins.id, super_admins.email, super_admins.username, super_admins.hashed_password, super_admins.full_name, super_admins.is_active, super_admins.phone, super_admins.position, super_admins.location, super_admins.state, super_admins.pin, super_admins.zip, super_admins.tax_no, super_admins.facebook_url, super_admins.twitter_url, super_admins.github_url, super_admins.dribbble_url, super_admins.created_at 
FROM super_admins 
WHERE super_admins.id = %s
2026-02-22 16:03:49,656 INFO sqlalchemy.engine.Engine [cached since 4107s ago] (1,)
2026-02-22 16:03:49,657 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:57882 - "GET /api/v1/super-admin/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:57882 - "OPTIONS /api/v1/master/schools/ HTTP/1.1" 200 OK
2026-02-22 16:03:50,046 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-22 16:03:50,046 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT schools.id AS id, schools.subdomain AS subdomain, schools.name AS name, schools.code AS code, schools.db_host AS db_host, schools.db_port AS db_port, schools.db_name AS db_name, schools.db_user AS db_user, schools.db_password_encrypted AS db_password_encrypted, schools.is_active AS is_active, schools.max_students AS max_students, schools.max_teachers AS max_teachers, schools.subscription_tier AS subscription_tier, schools.email AS email, schools.phone AS phone, schools.created_at AS created_at, schools.updated_at AS updated_at 
FROM schools) AS anon_1
2026-02-22 16:03:50,046 INFO sqlalchemy.engine.Engine [cached since 472.5s ago] ()
2026-02-22 16:03:50,052 INFO sqlalchemy.engine.Engine SELECT schools.id, schools.subdomain, schools.name, schools.code, schools.db_host, schools.db_port, schools.db_name, schools.db_user, schools.db_password_encrypted, schools.is_active, schools.max_students, schools.max_teachers, schools.subscription_tier, schools.email, schools.phone, schools.created_at, schools.updated_at 
FROM schools ORDER BY schools.created_at DESC 
 LIMIT %s, %s
2026-02-22 16:03:50,052 INFO sqlalchemy.engine.Engine [generated in 0.00026s] (0, 100)
2026-02-22 16:03:50,053 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:57880 - "GET /api/v1/master/schools/ HTTP/1.1" 200 OK
2026-02-22 16:03:52,519 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-22 16:03:52,519 INFO sqlalchemy.engine.Engine SELECT super_admins.id, super_admins.email, super_admins.username, super_admins.hashed_password, super_admins.full_name, super_admins.is_active, super_admins.phone, super_admins.position, super_admins.location, super_admins.state, super_admins.pin, super_admins.zip, super_admins.tax_no, super_admins.facebook_url, super_admins.twitter_url, super_admins.github_url, super_admins.dribbble_url, super_admins.created_at 
FROM super_admins 
WHERE super_admins.id = %s
2026-02-22 16:03:52,519 INFO sqlalchemy.engine.Engine [cached since 4109s ago] (1,)
2026-02-22 16:03:52,520 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:57880 - "GET /api/v1/super-admin/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:57893 - "OPTIONS /api/v1/super-admin/me HTTP/1.1" 200 OK
2026-02-22 16:04:02,104 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-22 16:04:02,104 INFO sqlalchemy.engine.Engine SELECT super_admins.id, super_admins.email, super_admins.username, super_admins.hashed_password, super_admins.full_name, super_admins.is_active, super_admins.phone, super_admins.position, super_admins.location, super_admins.state, super_admins.pin, super_admins.zip, super_admins.tax_no, super_admins.facebook_url, super_admins.twitter_url, super_admins.github_url, super_admins.dribbble_url, super_admins.created_at 
FROM super_admins 
WHERE super_admins.id = %s
2026-02-22 16:04:02,104 INFO sqlalchemy.engine.Engine [cached since 4119s ago] (1,)
2026-02-22 16:04:02,107 INFO sqlalchemy.engine.Engine COMMIT
2026-02-22 16:04:02,108 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-22 16:04:02,108 INFO sqlalchemy.engine.Engine SELECT super_admins.id, super_admins.email, super_admins.username, super_admins.hashed_password, super_admins.full_name, super_admins.is_active, super_admins.phone, super_admins.position, super_admins.location, super_admins.state, super_admins.pin, super_admins.zip, super_admins.tax_no, super_admins.facebook_url, super_admins.twitter_url, super_admins.github_url, super_admins.dribbble_url, super_admins.created_at 
FROM super_admins 
WHERE super_admins.id = %s
2026-02-22 16:04:02,108 INFO sqlalchemy.engine.Engine [cached since 4119s ago] (1,)
2026-02-22 16:04:02,109 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:57893 - "PUT /api/v1/super-admin/me HTTP/1.1" 200 OK
2026-02-22 16:04:40,352 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-22 16:04:40,352 INFO sqlalchemy.engine.Engine SELECT super_admins.id, super_admins.email, super_admins.username, super_admins.hashed_password, super_admins.full_name, super_admins.is_active, super_admins.phone, super_admins.position, super_admins.location, super_admins.state, super_admins.pin, super_admins.zip, super_admins.tax_no, super_admins.facebook_url, super_admins.twitter_url, super_admins.github_url, super_admins.dribbble_url, super_admins.created_at 
FROM super_admins 
WHERE super_admins.id = %s
2026-02-22 16:04:40,352 INFO sqlalchemy.engine.Engine [cached since 4157s ago] (1,)
2026-02-22 16:04:40,355 INFO sqlalchemy.engine.Engine UPDATE super_admins SET location=%s, state=%s, pin=%s, zip=%s, tax_no=%s WHERE super_admins.id = %s
2026-02-22 16:04:40,355 INFO sqlalchemy.engine.Engine [generated in 0.00029s] ('karthik nagar ', 'karanataka', '560037', '23421', '1234542343', 1)
2026-02-22 16:04:40,357 INFO sqlalchemy.engine.Engine COMMIT
2026-02-22 16:04:40,359 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-22 16:04:40,360 INFO sqlalchemy.engine.Engine SELECT super_admins.id, super_admins.email, super_admins.username, super_admins.hashed_password, super_admins.full_name, super_admins.is_active, super_admins.phone, super_admins.position, super_admins.location, super_admins.state, super_admins.pin, super_admins.zip, super_admins.tax_no, super_admins.facebook_url, super_admins.twitter_url, super_admins.github_url, super_admins.dribbble_url, super_admins.created_at 
FROM super_admins 
WHERE super_admins.id = %s
2026-02-22 16:04:40,360 INFO sqlalchemy.engine.Engine [cached since 4157s ago] (1,)
2026-02-22 16:04:40,361 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:57895 - "PUT /api/v1/super-admin/me HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'app/tenancy/provisioning.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [35076]
INFO:     Started server process [38509]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'app/modules/schools/router_master.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [38509]
INFO:     Started server process [38526]
INFO:     Waiting for application startup.
INFO:     Application startup complete.

============================================================
üè´ Mindwhile ERP - Multi-Tenant Architecture v2.0
============================================================

üìö API Documentation:
   Swagger UI: http://localhost:8000/docs
   ReDoc:      http://localhost:8000/redoc

üîß Tenant Resolution:
   Header: X-Tenant-ID or X-Tenant-Subdomain
   Subdomain: schoolname.erp.com

‚ö†Ô∏è  Note: Existing modules need async conversion
   Core infrastructure is ready for integration
============================================================

üöÄ Starting Mindwhile ERP - Multi-Tenant Architecture
üìä Master DB: localhost:3306/master_registry
üî¥ Redis: localhost:6379
‚úÖ Redis cache connected
‚úÖ Redis cache connected
2026-02-22 16:12:19,877 INFO sqlalchemy.engine.Engine SELECT DATABASE()
2026-02-22 16:12:19,877 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-22 16:12:19,878 INFO sqlalchemy.engine.Engine SELECT @@sql_mode
2026-02-22 16:12:19,878 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-22 16:12:19,879 INFO sqlalchemy.engine.Engine SELECT @@lower_case_table_names
2026-02-22 16:12:19,879 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-22 16:12:19,879 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-22 16:12:19,885 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT schools.id AS id, schools.subdomain AS subdomain, schools.name AS name, schools.code AS code, schools.db_host AS db_host, schools.db_port AS db_port, schools.db_name AS db_name, schools.db_user AS db_user, schools.db_password_encrypted AS db_password_encrypted, schools.is_active AS is_active, schools.max_students AS max_students, schools.max_teachers AS max_teachers, schools.subscription_tier AS subscription_tier, schools.email AS email, schools.phone AS phone, schools.created_at AS created_at, schools.updated_at AS updated_at 
FROM schools) AS anon_1
2026-02-22 16:12:19,885 INFO sqlalchemy.engine.Engine [generated in 0.00026s] ()
2026-02-22 16:12:19,887 INFO sqlalchemy.engine.Engine SELECT schools.id, schools.subdomain, schools.name, schools.code, schools.db_host, schools.db_port, schools.db_name, schools.db_user, schools.db_password_encrypted, schools.is_active, schools.max_students, schools.max_teachers, schools.subscription_tier, schools.email, schools.phone, schools.created_at, schools.updated_at 
FROM schools ORDER BY schools.created_at DESC 
 LIMIT %s, %s
2026-02-22 16:12:19,888 INFO sqlalchemy.engine.Engine [generated in 0.00012s] (0, 100)
2026-02-22 16:12:19,888 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:58008 - "GET /api/v1/master/schools/ HTTP/1.1" 200 OK
2026-02-22 16:13:37,548 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-22 16:13:37,549 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT schools.id AS id, schools.subdomain AS subdomain, schools.name AS name, schools.code AS code, schools.db_host AS db_host, schools.db_port AS db_port, schools.db_name AS db_name, schools.db_user AS db_user, schools.db_password_encrypted AS db_password_encrypted, schools.is_active AS is_active, schools.max_students AS max_students, schools.max_teachers AS max_teachers, schools.subscription_tier AS subscription_tier, schools.email AS email, schools.phone AS phone, schools.created_at AS created_at, schools.updated_at AS updated_at 
FROM schools) AS anon_1
2026-02-22 16:13:37,549 INFO sqlalchemy.engine.Engine [cached since 77.66s ago] ()
2026-02-22 16:13:37,552 INFO sqlalchemy.engine.Engine SELECT schools.id, schools.subdomain, schools.name, schools.code, schools.db_host, schools.db_port, schools.db_name, schools.db_user, schools.db_password_encrypted, schools.is_active, schools.max_students, schools.max_teachers, schools.subscription_tier, schools.email, schools.phone, schools.created_at, schools.updated_at 
FROM schools ORDER BY schools.created_at DESC 
 LIMIT %s, %s
2026-02-22 16:13:37,552 INFO sqlalchemy.engine.Engine [generated in 0.00052s] (0, 100)
2026-02-22 16:13:37,554 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:58036 - "GET /api/v1/master/schools/ HTTP/1.1" 200 OK
2026-02-22 16:13:44,955 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-22 16:13:44,956 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT schools.id AS id, schools.subdomain AS subdomain, schools.name AS name, schools.code AS code, schools.db_host AS db_host, schools.db_port AS db_port, schools.db_name AS db_name, schools.db_user AS db_user, schools.db_password_encrypted AS db_password_encrypted, schools.is_active AS is_active, schools.max_students AS max_students, schools.max_teachers AS max_teachers, schools.subscription_tier AS subscription_tier, schools.email AS email, schools.phone AS phone, schools.created_at AS created_at, schools.updated_at AS updated_at 
FROM schools) AS anon_1
2026-02-22 16:13:44,956 INFO sqlalchemy.engine.Engine [cached since 85.07s ago] ()
2026-02-22 16:13:44,957 INFO sqlalchemy.engine.Engine SELECT schools.id, schools.subdomain, schools.name, schools.code, schools.db_host, schools.db_port, schools.db_name, schools.db_user, schools.db_password_encrypted, schools.is_active, schools.max_students, schools.max_teachers, schools.subscription_tier, schools.email, schools.phone, schools.created_at, schools.updated_at 
FROM schools ORDER BY schools.created_at DESC 
 LIMIT %s, %s
2026-02-22 16:13:44,957 INFO sqlalchemy.engine.Engine [cached since 7.405s ago] (0, 100)
2026-02-22 16:13:44,958 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:58038 - "GET /api/v1/master/schools/ HTTP/1.1" 200 OK
2026-02-22 16:13:45,536 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-22 16:13:45,537 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT schools.id AS id, schools.subdomain AS subdomain, schools.name AS name, schools.code AS code, schools.db_host AS db_host, schools.db_port AS db_port, schools.db_name AS db_name, schools.db_user AS db_user, schools.db_password_encrypted AS db_password_encrypted, schools.is_active AS is_active, schools.max_students AS max_students, schools.max_teachers AS max_teachers, schools.subscription_tier AS subscription_tier, schools.email AS email, schools.phone AS phone, schools.created_at AS created_at, schools.updated_at AS updated_at 
FROM schools) AS anon_1
2026-02-22 16:13:45,537 INFO sqlalchemy.engine.Engine [cached since 85.65s ago] ()
2026-02-22 16:13:45,537 INFO sqlalchemy.engine.Engine SELECT schools.id, schools.subdomain, schools.name, schools.code, schools.db_host, schools.db_port, schools.db_name, schools.db_user, schools.db_password_encrypted, schools.is_active, schools.max_students, schools.max_teachers, schools.subscription_tier, schools.email, schools.phone, schools.created_at, schools.updated_at 
FROM schools ORDER BY schools.created_at DESC 
 LIMIT %s, %s
2026-02-22 16:13:45,538 INFO sqlalchemy.engine.Engine [cached since 7.986s ago] (0, 100)
2026-02-22 16:13:45,538 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:58038 - "GET /api/v1/master/schools/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:58101 - "OPTIONS /api/v1/master/schools/ HTTP/1.1" 200 OK
2026-02-22 16:15:27,073 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-22 16:15:27,074 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT schools.id AS id, schools.subdomain AS subdomain, schools.name AS name, schools.code AS code, schools.db_host AS db_host, schools.db_port AS db_port, schools.db_name AS db_name, schools.db_user AS db_user, schools.db_password_encrypted AS db_password_encrypted, schools.is_active AS is_active, schools.max_students AS max_students, schools.max_teachers AS max_teachers, schools.subscription_tier AS subscription_tier, schools.email AS email, schools.phone AS phone, schools.created_at AS created_at, schools.updated_at AS updated_at 
FROM schools) AS anon_1
2026-02-22 16:15:27,074 INFO sqlalchemy.engine.Engine [cached since 187.2s ago] ()
2026-02-22 16:15:27,075 INFO sqlalchemy.engine.Engine SELECT schools.id, schools.subdomain, schools.name, schools.code, schools.db_host, schools.db_port, schools.db_name, schools.db_user, schools.db_password_encrypted, schools.is_active, schools.max_students, schools.max_teachers, schools.subscription_tier, schools.email, schools.phone, schools.created_at, schools.updated_at 
FROM schools ORDER BY schools.created_at DESC 
 LIMIT %s, %s
2026-02-22 16:15:27,075 INFO sqlalchemy.engine.Engine [cached since 109.5s ago] (0, 100)
2026-02-22 16:15:27,077 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:58101 - "GET /api/v1/master/schools/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:58124 - "GET /api/v1/master/schools/ HTTP/1.1" 403 Forbidden
INFO:     127.0.0.1:58132 - "OPTIONS /api/v1/super-admin/login HTTP/1.1" 200 OK
2026-02-22 16:16:31,442 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-22 16:16:31,445 INFO sqlalchemy.engine.Engine SELECT super_admins.id, super_admins.email, super_admins.username, super_admins.hashed_password, super_admins.full_name, super_admins.is_active, super_admins.phone, super_admins.position, super_admins.location, super_admins.state, super_admins.pin, super_admins.zip, super_admins.tax_no, super_admins.facebook_url, super_admins.twitter_url, super_admins.github_url, super_admins.dribbble_url, super_admins.created_at 
FROM super_admins 
WHERE super_admins.username = %s
2026-02-22 16:16:31,445 INFO sqlalchemy.engine.Engine [generated in 0.00043s] ('superadmin1',)
(trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
2026-02-22 16:16:31,664 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:58132 - "POST /api/v1/super-admin/login HTTP/1.1" 200 OK
INFO:     127.0.0.1:58132 - "OPTIONS /api/v1/super-admin/me HTTP/1.1" 200 OK
2026-02-22 16:16:31,670 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-22 16:16:31,670 INFO sqlalchemy.engine.Engine SELECT super_admins.id, super_admins.email, super_admins.username, super_admins.hashed_password, super_admins.full_name, super_admins.is_active, super_admins.phone, super_admins.position, super_admins.location, super_admins.state, super_admins.pin, super_admins.zip, super_admins.tax_no, super_admins.facebook_url, super_admins.twitter_url, super_admins.github_url, super_admins.dribbble_url, super_admins.created_at 
FROM super_admins 
WHERE super_admins.id = %s
2026-02-22 16:16:31,670 INFO sqlalchemy.engine.Engine [generated in 0.00009s] (1,)
2026-02-22 16:16:31,671 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:58134 - "GET /api/v1/super-admin/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:58134 - "OPTIONS /api/v1/master/schools/ HTTP/1.1" 200 OK
2026-02-22 16:16:32,071 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-22 16:16:32,072 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT schools.id AS id, schools.subdomain AS subdomain, schools.name AS name, schools.code AS code, schools.db_host AS db_host, schools.db_port AS db_port, schools.db_name AS db_name, schools.db_user AS db_user, schools.db_password_encrypted AS db_password_encrypted, schools.is_active AS is_active, schools.max_students AS max_students, schools.max_teachers AS max_teachers, schools.subscription_tier AS subscription_tier, schools.email AS email, schools.phone AS phone, schools.created_at AS created_at, schools.updated_at AS updated_at 
FROM schools) AS anon_1
2026-02-22 16:16:32,072 INFO sqlalchemy.engine.Engine [cached since 252.2s ago] ()
2026-02-22 16:16:32,073 INFO sqlalchemy.engine.Engine SELECT schools.id, schools.subdomain, schools.name, schools.code, schools.db_host, schools.db_port, schools.db_name, schools.db_user, schools.db_password_encrypted, schools.is_active, schools.max_students, schools.max_teachers, schools.subscription_tier, schools.email, schools.phone, schools.created_at, schools.updated_at 
FROM schools ORDER BY schools.created_at DESC 
 LIMIT %s, %s
2026-02-22 16:16:32,073 INFO sqlalchemy.engine.Engine [cached since 174.5s ago] (0, 100)
2026-02-22 16:16:32,073 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:58132 - "GET /api/v1/master/schools/ HTTP/1.1" 200 OK
2026-02-22 16:16:33,891 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-22 16:16:33,892 INFO sqlalchemy.engine.Engine SELECT super_admins.id, super_admins.email, super_admins.username, super_admins.hashed_password, super_admins.full_name, super_admins.is_active, super_admins.phone, super_admins.position, super_admins.location, super_admins.state, super_admins.pin, super_admins.zip, super_admins.tax_no, super_admins.facebook_url, super_admins.twitter_url, super_admins.github_url, super_admins.dribbble_url, super_admins.created_at 
FROM super_admins 
WHERE super_admins.id = %s
2026-02-22 16:16:33,892 INFO sqlalchemy.engine.Engine [cached since 2.222s ago] (1,)
2026-02-22 16:16:33,893 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:58132 - "GET /api/v1/super-admin/me HTTP/1.1" 200 OK
2026-02-22 16:16:34,331 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-22 16:16:34,331 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT schools.id AS id, schools.subdomain AS subdomain, schools.name AS name, schools.code AS code, schools.db_host AS db_host, schools.db_port AS db_port, schools.db_name AS db_name, schools.db_user AS db_user, schools.db_password_encrypted AS db_password_encrypted, schools.is_active AS is_active, schools.max_students AS max_students, schools.max_teachers AS max_teachers, schools.subscription_tier AS subscription_tier, schools.email AS email, schools.phone AS phone, schools.created_at AS created_at, schools.updated_at AS updated_at 
FROM schools) AS anon_1
2026-02-22 16:16:34,331 INFO sqlalchemy.engine.Engine [cached since 254.4s ago] ()
2026-02-22 16:16:34,332 INFO sqlalchemy.engine.Engine SELECT schools.id, schools.subdomain, schools.name, schools.code, schools.db_host, schools.db_port, schools.db_name, schools.db_user, schools.db_password_encrypted, schools.is_active, schools.max_students, schools.max_teachers, schools.subscription_tier, schools.email, schools.phone, schools.created_at, schools.updated_at 
FROM schools ORDER BY schools.created_at DESC 
 LIMIT %s, %s
2026-02-22 16:16:34,332 INFO sqlalchemy.engine.Engine [cached since 176.8s ago] (0, 100)
2026-02-22 16:16:34,333 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:58132 - "GET /api/v1/master/schools/ HTTP/1.1" 200 OK
2026-02-22 16:16:37,449 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-22 16:16:37,449 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT schools.id AS id, schools.subdomain AS subdomain, schools.name AS name, schools.code AS code, schools.db_host AS db_host, schools.db_port AS db_port, schools.db_name AS db_name, schools.db_user AS db_user, schools.db_password_encrypted AS db_password_encrypted, schools.is_active AS is_active, schools.max_students AS max_students, schools.max_teachers AS max_teachers, schools.subscription_tier AS subscription_tier, schools.email AS email, schools.phone AS phone, schools.created_at AS created_at, schools.updated_at AS updated_at 
FROM schools) AS anon_1
2026-02-22 16:16:37,449 INFO sqlalchemy.engine.Engine [cached since 257.6s ago] ()
2026-02-22 16:16:37,451 INFO sqlalchemy.engine.Engine SELECT schools.id, schools.subdomain, schools.name, schools.code, schools.db_host, schools.db_port, schools.db_name, schools.db_user, schools.db_password_encrypted, schools.is_active, schools.max_students, schools.max_teachers, schools.subscription_tier, schools.email, schools.phone, schools.created_at, schools.updated_at 
FROM schools ORDER BY schools.created_at DESC 
 LIMIT %s, %s
2026-02-22 16:16:37,451 INFO sqlalchemy.engine.Engine [cached since 179.9s ago] (0, 100)
2026-02-22 16:16:37,452 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:58132 - "GET /api/v1/master/schools/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:58149 - "OPTIONS /api/v1/master/schools/ HTTP/1.1" 200 OK
2026-02-22 16:17:34,496 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-22 16:17:34,497 INFO sqlalchemy.engine.Engine SELECT schools.id, schools.subdomain, schools.name, schools.code, schools.db_host, schools.db_port, schools.db_name, schools.db_user, schools.db_password_encrypted, schools.is_active, schools.max_students, schools.max_teachers, schools.subscription_tier, schools.email, schools.phone, schools.created_at, schools.updated_at 
FROM schools 
WHERE schools.subdomain = %s
2026-02-22 16:17:34,497 INFO sqlalchemy.engine.Engine [generated in 0.00029s] ('venkyschool',)
2026-02-22 16:17:34,499 INFO sqlalchemy.engine.Engine SELECT schools.id, schools.subdomain, schools.name, schools.code, schools.db_host, schools.db_port, schools.db_name, schools.db_user, schools.db_password_encrypted, schools.is_active, schools.max_students, schools.max_teachers, schools.subscription_tier, schools.email, schools.phone, schools.created_at, schools.updated_at 
FROM schools 
WHERE schools.code = %s
2026-02-22 16:17:34,499 INFO sqlalchemy.engine.Engine [generated in 0.00021s] ('OSE-001',)
Failed to run Alembic migrations: invalid interpolation syntax in 'mysql+pymysql://root:Sandyvenky%4041@localhost:3306/venkyschool_db' at position 31
2026-02-22 16:17:34,512 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:58149 - "POST /api/v1/master/schools/ HTTP/1.1" 500 Internal Server Error
WARNING:  WatchFiles detected changes in 'app/tenancy/provisioning.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [38526]
INFO:     Started server process [39093]
INFO:     Waiting for application startup.
INFO:     Application startup complete.

============================================================
üè´ Mindwhile ERP - Multi-Tenant Architecture v2.0
============================================================

üìö API Documentation:
   Swagger UI: http://localhost:8000/docs
   ReDoc:      http://localhost:8000/redoc

üîß Tenant Resolution:
   Header: X-Tenant-ID or X-Tenant-Subdomain
   Subdomain: schoolname.erp.com

‚ö†Ô∏è  Note: Existing modules need async conversion
   Core infrastructure is ready for integration
============================================================

üöÄ Starting Mindwhile ERP - Multi-Tenant Architecture
üìä Master DB: localhost:3306/master_registry
üî¥ Redis: localhost:6379
‚úÖ Redis cache connected
‚úÖ Redis cache connected
INFO:     127.0.0.1:58177 - "OPTIONS /api/v1/master/schools/ HTTP/1.1" 200 OK
2026-02-22 16:19:49,337 INFO sqlalchemy.engine.Engine SELECT DATABASE()
2026-02-22 16:19:49,337 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-22 16:19:49,337 INFO sqlalchemy.engine.Engine SELECT @@sql_mode
2026-02-22 16:19:49,338 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-22 16:19:49,338 INFO sqlalchemy.engine.Engine SELECT @@lower_case_table_names
2026-02-22 16:19:49,338 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-22 16:19:49,338 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-22 16:19:49,342 INFO sqlalchemy.engine.Engine SELECT schools.id, schools.subdomain, schools.name, schools.code, schools.db_host, schools.db_port, schools.db_name, schools.db_user, schools.db_password_encrypted, schools.is_active, schools.max_students, schools.max_teachers, schools.subscription_tier, schools.email, schools.phone, schools.created_at, schools.updated_at 
FROM schools 
WHERE schools.subdomain = %s
2026-02-22 16:19:49,342 INFO sqlalchemy.engine.Engine [generated in 0.00013s] ('venkyschool',)
2026-02-22 16:19:49,343 INFO sqlalchemy.engine.Engine SELECT schools.id, schools.subdomain, schools.name, schools.code, schools.db_host, schools.db_port, schools.db_name, schools.db_user, schools.db_password_encrypted, schools.is_active, schools.max_students, schools.max_teachers, schools.subscription_tier, schools.email, schools.phone, schools.created_at, schools.updated_at 
FROM schools 
WHERE schools.code = %s
2026-02-22 16:19:49,343 INFO sqlalchemy.engine.Engine [generated in 0.00017s] ('OSE-001',)
INFO  [alembic.runtime.migration] Context impl MySQLImpl.
INFO  [alembic.runtime.migration] Will assume non-transactional DDL.
INFO  [alembic.runtime.migration] Running upgrade  -> 52002974ff6a, Initial migration
INFO  [alembic.runtime.migration] Running upgrade 52002974ff6a -> 9c1c94b82a58, add_branch_support
INFO  [alembic.runtime.migration] Running upgrade 9c1c94b82a58 -> 9400fce0d339, Add profile fields to SuperAdmin
INFO  [alembic.runtime.migration] Running upgrade 9400fce0d339 -> 59f8f47ed882, Manual profile fields
INFO  [sqlalchemy.engine.Engine] ROLLBACK
WARNING:  WatchFiles detected changes in 'alembic/versions/59f8f47ed882_manual_profile_fields.py'. Reloading...
INFO:     Started server process [39431]
INFO:     Waiting for application startup.
INFO:     Application startup complete.

============================================================
üè´ Mindwhile ERP - Multi-Tenant Architecture v2.0
============================================================

üìö API Documentation:
   Swagger UI: http://localhost:8000/docs
   ReDoc:      http://localhost:8000/redoc

üîß Tenant Resolution:
   Header: X-Tenant-ID or X-Tenant-Subdomain
   Subdomain: schoolname.erp.com

‚ö†Ô∏è  Note: Existing modules need async conversion
   Core infrastructure is ready for integration
============================================================

üöÄ Starting Mindwhile ERP - Multi-Tenant Architecture
üìä Master DB: localhost:3306/master_registry
üî¥ Redis: localhost:6379
‚úÖ Redis cache connected
‚úÖ Redis cache connected
2026-02-22 16:23:40,154 INFO sqlalchemy.engine.Engine SELECT DATABASE()
2026-02-22 16:23:40,155 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-22 16:23:40,155 INFO sqlalchemy.engine.Engine SELECT @@sql_mode
2026-02-22 16:23:40,155 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-22 16:23:40,156 INFO sqlalchemy.engine.Engine SELECT @@lower_case_table_names
2026-02-22 16:23:40,156 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-22 16:23:40,156 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-22 16:23:40,159 INFO sqlalchemy.engine.Engine SELECT schools.id, schools.subdomain, schools.name, schools.code, schools.db_host, schools.db_port, schools.db_name, schools.db_user, schools.db_password_encrypted, schools.is_active, schools.max_students, schools.max_teachers, schools.subscription_tier, schools.email, schools.phone, schools.created_at, schools.updated_at 
FROM schools 
WHERE schools.subdomain = %s
2026-02-22 16:23:40,159 INFO sqlalchemy.engine.Engine [generated in 0.00013s] ('venkyschool',)
2026-02-22 16:23:40,161 INFO sqlalchemy.engine.Engine SELECT schools.id, schools.subdomain, schools.name, schools.code, schools.db_host, schools.db_port, schools.db_name, schools.db_user, schools.db_password_encrypted, schools.is_active, schools.max_students, schools.max_teachers, schools.subscription_tier, schools.email, schools.phone, schools.created_at, schools.updated_at 
FROM schools 
WHERE schools.code = %s
2026-02-22 16:23:40,161 INFO sqlalchemy.engine.Engine [generated in 0.00009s] ('OSE-001',)
INFO  [alembic.runtime.migration] Context impl MySQLImpl.
INFO  [alembic.runtime.migration] Will assume non-transactional DDL.
INFO  [sqlalchemy.engine.Engine] INSERT INTO schools (subdomain, name, code, db_host, db_port, db_name, db_user, db_password_encrypted, is_active, max_students, max_teachers, subscription_tier, email, phone) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)
INFO  [sqlalchemy.engine.Engine] [generated in 0.00016s] ('venkyschool', 'venky public school', 'OSE-001', 'localhost', 3306, 'venkyschool_db', 'root', '$2b$12$8TrdUENM2UGm4kucCEbqku3QKCihR9bUfim3WdE2Lcq4Zj1POsqHu', 1, None, None, 'basic', 'tvnr690@gmail.com', None)
INFO  [sqlalchemy.engine.Engine] COMMIT
INFO  [sqlalchemy.engine.Engine] BEGIN (implicit)
INFO  [sqlalchemy.engine.Engine] SELECT schools.id, schools.subdomain, schools.name, schools.code, schools.db_host, schools.db_port, schools.db_name, schools.db_user, schools.db_password_encrypted, schools.is_active, schools.max_students, schools.max_teachers, schools.subscription_tier, schools.email, schools.phone, schools.created_at, schools.updated_at 
FROM schools 
WHERE schools.id = %s
INFO  [sqlalchemy.engine.Engine] [generated in 0.00005s] (1,)
INFO  [sqlalchemy.engine.Engine] COMMIT
INFO  [sqlalchemy.engine.Engine] BEGIN (implicit)
INFO  [sqlalchemy.engine.Engine] SELECT count(*) AS count_1 
FROM (SELECT schools.id AS id, schools.subdomain AS subdomain, schools.name AS name, schools.code AS code, schools.db_host AS db_host, schools.db_port AS db_port, schools.db_name AS db_name, schools.db_user AS db_user, schools.db_password_encrypted AS db_password_encrypted, schools.is_active AS is_active, schools.max_students AS max_students, schools.max_teachers AS max_teachers, schools.subscription_tier AS subscription_tier, schools.email AS email, schools.phone AS phone, schools.created_at AS created_at, schools.updated_at AS updated_at 
FROM schools) AS anon_1
INFO  [sqlalchemy.engine.Engine] [generated in 0.00011s] ()
INFO  [sqlalchemy.engine.Engine] SELECT schools.id, schools.subdomain, schools.name, schools.code, schools.db_host, schools.db_port, schools.db_name, schools.db_user, schools.db_password_encrypted, schools.is_active, schools.max_students, schools.max_teachers, schools.subscription_tier, schools.email, schools.phone, schools.created_at, schools.updated_at 
FROM schools ORDER BY schools.created_at DESC 
 LIMIT %s, %s
INFO  [sqlalchemy.engine.Engine] [generated in 0.00007s] (0, 100)
INFO  [sqlalchemy.engine.Engine] COMMIT
INFO  [sqlalchemy.engine.Engine] BEGIN (implicit)
INFO  [sqlalchemy.engine.Engine] SELECT count(*) AS count_1 
FROM (SELECT schools.id AS id, schools.subdomain AS subdomain, schools.name AS name, schools.code AS code, schools.db_host AS db_host, schools.db_port AS db_port, schools.db_name AS db_name, schools.db_user AS db_user, schools.db_password_encrypted AS db_password_encrypted, schools.is_active AS is_active, schools.max_students AS max_students, schools.max_teachers AS max_teachers, schools.subscription_tier AS subscription_tier, schools.email AS email, schools.phone AS phone, schools.created_at AS created_at, schools.updated_at AS updated_at 
FROM schools) AS anon_1
INFO  [sqlalchemy.engine.Engine] [cached since 25.43s ago] ()
INFO  [sqlalchemy.engine.Engine] SELECT schools.id, schools.subdomain, schools.name, schools.code, schools.db_host, schools.db_port, schools.db_name, schools.db_user, schools.db_password_encrypted, schools.is_active, schools.max_students, schools.max_teachers, schools.subscription_tier, schools.email, schools.phone, schools.created_at, schools.updated_at 
FROM schools ORDER BY schools.created_at DESC 
 LIMIT %s, %s
INFO  [sqlalchemy.engine.Engine] [generated in 0.00018s] (0, 100)
INFO  [sqlalchemy.engine.Engine] COMMIT
INFO  [sqlalchemy.engine.Engine] BEGIN (implicit)
INFO  [sqlalchemy.engine.Engine] SELECT count(*) AS count_1 
FROM (SELECT schools.id AS id, schools.subdomain AS subdomain, schools.name AS name, schools.code AS code, schools.db_host AS db_host, schools.db_port AS db_port, schools.db_name AS db_name, schools.db_user AS db_user, schools.db_password_encrypted AS db_password_encrypted, schools.is_active AS is_active, schools.max_students AS max_students, schools.max_teachers AS max_teachers, schools.subscription_tier AS subscription_tier, schools.email AS email, schools.phone AS phone, schools.created_at AS created_at, schools.updated_at AS updated_at 
FROM schools) AS anon_1
INFO  [sqlalchemy.engine.Engine] [cached since 80.11s ago] ()
INFO  [sqlalchemy.engine.Engine] SELECT schools.id, schools.subdomain, schools.name, schools.code, schools.db_host, schools.db_port, schools.db_name, schools.db_user, schools.db_password_encrypted, schools.is_active, schools.max_students, schools.max_teachers, schools.subscription_tier, schools.email, schools.phone, schools.created_at, schools.updated_at 
FROM schools ORDER BY schools.created_at DESC 
 LIMIT %s, %s
INFO  [sqlalchemy.engine.Engine] [cached since 54.68s ago] (0, 100)
INFO  [sqlalchemy.engine.Engine] COMMIT
INFO  [sqlalchemy.engine.Engine] BEGIN (implicit)
INFO  [sqlalchemy.engine.Engine] SELECT count(*) AS count_1 
FROM (SELECT schools.id AS id, schools.subdomain AS subdomain, schools.name AS name, schools.code AS code, schools.db_host AS db_host, schools.db_port AS db_port, schools.db_name AS db_name, schools.db_user AS db_user, schools.db_password_encrypted AS db_password_encrypted, schools.is_active AS is_active, schools.max_students AS max_students, schools.max_teachers AS max_teachers, schools.subscription_tier AS subscription_tier, schools.email AS email, schools.phone AS phone, schools.created_at AS created_at, schools.updated_at AS updated_at 
FROM schools) AS anon_1
INFO  [sqlalchemy.engine.Engine] [cached since 82.51s ago] ()
INFO  [sqlalchemy.engine.Engine] SELECT schools.id, schools.subdomain, schools.name, schools.code, schools.db_host, schools.db_port, schools.db_name, schools.db_user, schools.db_password_encrypted, schools.is_active, schools.max_students, schools.max_teachers, schools.subscription_tier, schools.email, schools.phone, schools.created_at, schools.updated_at 
FROM schools ORDER BY schools.created_at DESC 
 LIMIT %s, %s
INFO  [sqlalchemy.engine.Engine] [cached since 57.07s ago] (0, 100)
INFO  [sqlalchemy.engine.Engine] COMMIT
INFO  [sqlalchemy.engine.Engine] BEGIN (implicit)
INFO  [sqlalchemy.engine.Engine] SELECT count(*) AS count_1 
FROM (SELECT schools.id AS id, schools.subdomain AS subdomain, schools.name AS name, schools.code AS code, schools.db_host AS db_host, schools.db_port AS db_port, schools.db_name AS db_name, schools.db_user AS db_user, schools.db_password_encrypted AS db_password_encrypted, schools.is_active AS is_active, schools.max_students AS max_students, schools.max_teachers AS max_teachers, schools.subscription_tier AS subscription_tier, schools.email AS email, schools.phone AS phone, schools.created_at AS created_at, schools.updated_at AS updated_at 
FROM schools) AS anon_1
INFO  [sqlalchemy.engine.Engine] [cached since 84.11s ago] ()
INFO  [sqlalchemy.engine.Engine] SELECT schools.id, schools.subdomain, schools.name, schools.code, schools.db_host, schools.db_port, schools.db_name, schools.db_user, schools.db_password_encrypted, schools.is_active, schools.max_students, schools.max_teachers, schools.subscription_tier, schools.email, schools.phone, schools.created_at, schools.updated_at 
FROM schools ORDER BY schools.created_at DESC 
 LIMIT %s, %s
INFO  [sqlalchemy.engine.Engine] [cached since 58.68s ago] (0, 100)
INFO  [sqlalchemy.engine.Engine] COMMIT
WARNING:  WatchFiles detected changes in 'app/tenancy/models.py'. Reloading...
INFO:     Started server process [40015]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'alembic/env.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [40015]
INFO:     Started server process [40027]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'alembic/versions/c0fe9b570502_add_subscription_plans_table.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [40027]
INFO:     Started server process [40168]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'alembic/versions/c0fe9b570502_add_subscription_plans_table.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [40168]
INFO:     Started server process [40203]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'app/modules/plans/__init__.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [40203]
INFO:     Started server process [40475]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'app/modules/plans/schemas.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [40475]
INFO:     Started server process [40493]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'app/modules/plans/router.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [40493]
INFO:     Started server process [40502]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'app/main.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [40502]
/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/pydantic/_internal/_config.py:345: UserWarning: Valid config keys have changed in V2:
* 'orm_mode' has been renamed to 'from_attributes'
  warnings.warn(message, UserWarning)
INFO:     Started server process [40528]
INFO:     Waiting for application startup.
INFO:     Application startup complete.

============================================================
üè´ Mindwhile ERP - Multi-Tenant Architecture v2.0
============================================================

üìö API Documentation:
   Swagger UI: http://localhost:8000/docs
   ReDoc:      http://localhost:8000/redoc

üîß Tenant Resolution:
   Header: X-Tenant-ID or X-Tenant-Subdomain
   Subdomain: schoolname.erp.com

‚ö†Ô∏è  Note: Existing modules need async conversion
   Core infrastructure is ready for integration
============================================================

üöÄ Starting Mindwhile ERP - Multi-Tenant Architecture
üìä Master DB: localhost:3306/master_registry
üî¥ Redis: localhost:6379
‚úÖ Redis cache connected
‚úÖ Redis cache connected
INFO:     127.0.0.1:58362 - "GET /api/v1/master/plans/ HTTP/1.1" 403 Forbidden
INFO:     127.0.0.1:58373 - "OPTIONS /api/v1/master/plans/ HTTP/1.1" 200 OK
2026-02-22 16:30:57,988 INFO sqlalchemy.engine.Engine SELECT DATABASE()
2026-02-22 16:30:57,988 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-22 16:30:57,989 INFO sqlalchemy.engine.Engine SELECT @@sql_mode
2026-02-22 16:30:57,989 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-22 16:30:57,989 INFO sqlalchemy.engine.Engine SELECT @@lower_case_table_names
2026-02-22 16:30:57,989 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-22 16:30:57,990 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-22 16:30:57,993 INFO sqlalchemy.engine.Engine SELECT subscription_plans.id, subscription_plans.plan_name, subscription_plans.max_students, subscription_plans.monthly_price, subscription_plans.yearly_price, subscription_plans.is_active, subscription_plans.created_at, subscription_plans.updated_at 
FROM subscription_plans ORDER BY subscription_plans.monthly_price
2026-02-22 16:30:57,993 INFO sqlalchemy.engine.Engine [generated in 0.00040s] ()
2026-02-22 16:30:57,994 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:58373 - "GET /api/v1/master/plans/ HTTP/1.1" 200 OK
2026-02-22 16:30:57,998 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-22 16:30:57,998 INFO sqlalchemy.engine.Engine SELECT subscription_plans.id, subscription_plans.plan_name, subscription_plans.max_students, subscription_plans.monthly_price, subscription_plans.yearly_price, subscription_plans.is_active, subscription_plans.created_at, subscription_plans.updated_at 
FROM subscription_plans ORDER BY subscription_plans.monthly_price
2026-02-22 16:30:57,998 INFO sqlalchemy.engine.Engine [cached since 0.005355s ago] ()
2026-02-22 16:30:57,998 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:58373 - "GET /api/v1/master/plans/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:58408 - "OPTIONS /api/v1/master/plans/ HTTP/1.1" 200 OK
2026-02-22 16:32:40,777 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-22 16:32:40,779 INFO sqlalchemy.engine.Engine SELECT subscription_plans.id, subscription_plans.plan_name, subscription_plans.max_students, subscription_plans.monthly_price, subscription_plans.yearly_price, subscription_plans.is_active, subscription_plans.created_at, subscription_plans.updated_at 
FROM subscription_plans 
WHERE subscription_plans.plan_name = %s
2026-02-22 16:32:40,779 INFO sqlalchemy.engine.Engine [generated in 0.00036s] ('Basic',)
2026-02-22 16:32:40,783 INFO sqlalchemy.engine.Engine INSERT INTO subscription_plans (plan_name, max_students, monthly_price, yearly_price, is_active) VALUES (%s, %s, %s, %s, %s)
2026-02-22 16:32:40,783 INFO sqlalchemy.engine.Engine [generated in 0.00033s] ('Basic', 100, 4999.0, 50000.0, 1)
2026-02-22 16:32:40,785 INFO sqlalchemy.engine.Engine COMMIT
2026-02-22 16:32:40,789 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-22 16:32:40,791 INFO sqlalchemy.engine.Engine SELECT subscription_plans.id, subscription_plans.plan_name, subscription_plans.max_students, subscription_plans.monthly_price, subscription_plans.yearly_price, subscription_plans.is_active, subscription_plans.created_at, subscription_plans.updated_at 
FROM subscription_plans 
WHERE subscription_plans.id = %s
2026-02-22 16:32:40,791 INFO sqlalchemy.engine.Engine [generated in 0.00029s] (1,)
2026-02-22 16:32:40,793 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:58408 - "POST /api/v1/master/plans/ HTTP/1.1" 201 Created
2026-02-22 16:32:40,814 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-22 16:32:40,814 INFO sqlalchemy.engine.Engine SELECT subscription_plans.id, subscription_plans.plan_name, subscription_plans.max_students, subscription_plans.monthly_price, subscription_plans.yearly_price, subscription_plans.is_active, subscription_plans.created_at, subscription_plans.updated_at 
FROM subscription_plans ORDER BY subscription_plans.monthly_price
2026-02-22 16:32:40,814 INFO sqlalchemy.engine.Engine [cached since 102.8s ago] ()
2026-02-22 16:32:40,816 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:58408 - "GET /api/v1/master/plans/ HTTP/1.1" 200 OK
2026-02-22 16:32:45,242 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-22 16:32:45,242 INFO sqlalchemy.engine.Engine SELECT subscription_plans.id, subscription_plans.plan_name, subscription_plans.max_students, subscription_plans.monthly_price, subscription_plans.yearly_price, subscription_plans.is_active, subscription_plans.created_at, subscription_plans.updated_at 
FROM subscription_plans ORDER BY subscription_plans.monthly_price
2026-02-22 16:32:45,242 INFO sqlalchemy.engine.Engine [cached since 107.2s ago] ()
2026-02-22 16:32:45,244 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:58408 - "GET /api/v1/master/plans/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:58443 - "POST /api/v1/master/plans/ HTTP/1.1" 401 Unauthorized
INFO:     127.0.0.1:58443 - "OPTIONS /api/v1/super-admin/login HTTP/1.1" 200 OK
2026-02-22 16:34:16,652 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-22 16:34:16,654 INFO sqlalchemy.engine.Engine SELECT super_admins.id, super_admins.email, super_admins.username, super_admins.hashed_password, super_admins.full_name, super_admins.is_active, super_admins.phone, super_admins.position, super_admins.location, super_admins.state, super_admins.pin, super_admins.zip, super_admins.tax_no, super_admins.facebook_url, super_admins.twitter_url, super_admins.github_url, super_admins.dribbble_url, super_admins.created_at 
FROM super_admins 
WHERE super_admins.username = %s
2026-02-22 16:34:16,655 INFO sqlalchemy.engine.Engine [generated in 0.00042s] ('superadmin1',)
(trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
2026-02-22 16:34:16,874 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:58443 - "POST /api/v1/super-admin/login HTTP/1.1" 200 OK
INFO:     127.0.0.1:58443 - "OPTIONS /api/v1/super-admin/me HTTP/1.1" 200 OK
2026-02-22 16:34:16,881 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-22 16:34:16,881 INFO sqlalchemy.engine.Engine SELECT super_admins.id, super_admins.email, super_admins.username, super_admins.hashed_password, super_admins.full_name, super_admins.is_active, super_admins.phone, super_admins.position, super_admins.location, super_admins.state, super_admins.pin, super_admins.zip, super_admins.tax_no, super_admins.facebook_url, super_admins.twitter_url, super_admins.github_url, super_admins.dribbble_url, super_admins.created_at 
FROM super_admins 
WHERE super_admins.id = %s
2026-02-22 16:34:16,881 INFO sqlalchemy.engine.Engine [generated in 0.00008s] (1,)
2026-02-22 16:34:16,882 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:58451 - "GET /api/v1/super-admin/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:58451 - "OPTIONS /api/v1/master/schools/ HTTP/1.1" 200 OK
2026-02-22 16:34:17,265 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-22 16:34:17,267 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT schools.id AS id, schools.subdomain AS subdomain, schools.name AS name, schools.code AS code, schools.db_host AS db_host, schools.db_port AS db_port, schools.db_name AS db_name, schools.db_user AS db_user, schools.db_password_encrypted AS db_password_encrypted, schools.is_active AS is_active, schools.max_students AS max_students, schools.max_teachers AS max_teachers, schools.subscription_tier AS subscription_tier, schools.email AS email, schools.phone AS phone, schools.created_at AS created_at, schools.updated_at AS updated_at 
FROM schools) AS anon_1
2026-02-22 16:34:17,267 INFO sqlalchemy.engine.Engine [generated in 0.00017s] ()
2026-02-22 16:34:17,269 INFO sqlalchemy.engine.Engine SELECT schools.id, schools.subdomain, schools.name, schools.code, schools.db_host, schools.db_port, schools.db_name, schools.db_user, schools.db_password_encrypted, schools.is_active, schools.max_students, schools.max_teachers, schools.subscription_tier, schools.email, schools.phone, schools.created_at, schools.updated_at 
FROM schools ORDER BY schools.created_at DESC 
 LIMIT %s, %s
2026-02-22 16:34:17,269 INFO sqlalchemy.engine.Engine [generated in 0.00018s] (0, 100)
2026-02-22 16:34:17,270 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:58443 - "GET /api/v1/master/schools/ HTTP/1.1" 200 OK
2026-02-22 16:34:19,047 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-22 16:34:19,047 INFO sqlalchemy.engine.Engine SELECT subscription_plans.id, subscription_plans.plan_name, subscription_plans.max_students, subscription_plans.monthly_price, subscription_plans.yearly_price, subscription_plans.is_active, subscription_plans.created_at, subscription_plans.updated_at 
FROM subscription_plans ORDER BY subscription_plans.monthly_price
2026-02-22 16:34:19,048 INFO sqlalchemy.engine.Engine [cached since 201.1s ago] ()
2026-02-22 16:34:19,048 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:58443 - "GET /api/v1/master/plans/ HTTP/1.1" 200 OK
2026-02-22 16:34:32,868 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-22 16:34:32,868 INFO sqlalchemy.engine.Engine SELECT subscription_plans.id, subscription_plans.plan_name, subscription_plans.max_students, subscription_plans.monthly_price, subscription_plans.yearly_price, subscription_plans.is_active, subscription_plans.created_at, subscription_plans.updated_at 
FROM subscription_plans 
WHERE subscription_plans.plan_name = %s
2026-02-22 16:34:32,869 INFO sqlalchemy.engine.Engine [cached since 112.1s ago] ('Basic',)
2026-02-22 16:34:32,870 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:58457 - "POST /api/v1/master/plans/ HTTP/1.1" 400 Bad Request
2026-02-22 16:34:59,337 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-22 16:34:59,338 INFO sqlalchemy.engine.Engine SELECT subscription_plans.id, subscription_plans.plan_name, subscription_plans.max_students, subscription_plans.monthly_price, subscription_plans.yearly_price, subscription_plans.is_active, subscription_plans.created_at, subscription_plans.updated_at 
FROM subscription_plans 
WHERE subscription_plans.plan_name = %s
2026-02-22 16:34:59,338 INFO sqlalchemy.engine.Engine [cached since 138.6s ago] ('medium',)
2026-02-22 16:34:59,340 INFO sqlalchemy.engine.Engine INSERT INTO subscription_plans (plan_name, max_students, monthly_price, yearly_price, is_active) VALUES (%s, %s, %s, %s, %s)
2026-02-22 16:34:59,340 INFO sqlalchemy.engine.Engine [cached since 138.6s ago] ('medium', 500, 6999.0, 70000.0, 1)
2026-02-22 16:34:59,341 INFO sqlalchemy.engine.Engine COMMIT
2026-02-22 16:34:59,346 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-22 16:34:59,346 INFO sqlalchemy.engine.Engine SELECT subscription_plans.id, subscription_plans.plan_name, subscription_plans.max_students, subscription_plans.monthly_price, subscription_plans.yearly_price, subscription_plans.is_active, subscription_plans.created_at, subscription_plans.updated_at 
FROM subscription_plans 
WHERE subscription_plans.id = %s
2026-02-22 16:34:59,346 INFO sqlalchemy.engine.Engine [cached since 138.6s ago] (2,)
2026-02-22 16:34:59,348 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:58462 - "POST /api/v1/master/plans/ HTTP/1.1" 201 Created
2026-02-22 16:34:59,375 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-22 16:34:59,376 INFO sqlalchemy.engine.Engine SELECT subscription_plans.id, subscription_plans.plan_name, subscription_plans.max_students, subscription_plans.monthly_price, subscription_plans.yearly_price, subscription_plans.is_active, subscription_plans.created_at, subscription_plans.updated_at 
FROM subscription_plans ORDER BY subscription_plans.monthly_price
2026-02-22 16:34:59,376 INFO sqlalchemy.engine.Engine [cached since 241.4s ago] ()
2026-02-22 16:34:59,377 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:58462 - "GET /api/v1/master/plans/ HTTP/1.1" 200 OK
2026-02-22 16:35:38,109 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-22 16:35:38,110 INFO sqlalchemy.engine.Engine SELECT subscription_plans.id, subscription_plans.plan_name, subscription_plans.max_students, subscription_plans.monthly_price, subscription_plans.yearly_price, subscription_plans.is_active, subscription_plans.created_at, subscription_plans.updated_at 
FROM subscription_plans ORDER BY subscription_plans.monthly_price
2026-02-22 16:35:38,110 INFO sqlalchemy.engine.Engine [cached since 280.1s ago] ()
2026-02-22 16:35:38,111 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:58486 - "GET /api/v1/master/plans/ HTTP/1.1" 200 OK
2026-02-22 16:35:55,886 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-22 16:35:55,886 INFO sqlalchemy.engine.Engine SELECT subscription_plans.id, subscription_plans.plan_name, subscription_plans.max_students, subscription_plans.monthly_price, subscription_plans.yearly_price, subscription_plans.is_active, subscription_plans.created_at, subscription_plans.updated_at 
FROM subscription_plans ORDER BY subscription_plans.monthly_price
2026-02-22 16:35:55,886 INFO sqlalchemy.engine.Engine [cached since 297.9s ago] ()
2026-02-22 16:35:55,887 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:58495 - "GET /api/v1/master/plans/ HTTP/1.1" 200 OK
2026-02-22 16:35:57,788 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-22 16:35:57,789 INFO sqlalchemy.engine.Engine SELECT subscription_plans.id, subscription_plans.plan_name, subscription_plans.max_students, subscription_plans.monthly_price, subscription_plans.yearly_price, subscription_plans.is_active, subscription_plans.created_at, subscription_plans.updated_at 
FROM subscription_plans ORDER BY subscription_plans.monthly_price
2026-02-22 16:35:57,789 INFO sqlalchemy.engine.Engine [cached since 299.8s ago] ()
2026-02-22 16:35:57,790 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:58495 - "GET /api/v1/master/plans/ HTTP/1.1" 200 OK
2026-02-22 16:36:39,058 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-22 16:36:39,058 INFO sqlalchemy.engine.Engine SELECT subscription_plans.id, subscription_plans.plan_name, subscription_plans.max_students, subscription_plans.monthly_price, subscription_plans.yearly_price, subscription_plans.is_active, subscription_plans.created_at, subscription_plans.updated_at 
FROM subscription_plans ORDER BY subscription_plans.monthly_price
2026-02-22 16:36:39,058 INFO sqlalchemy.engine.Engine [cached since 341.1s ago] ()
2026-02-22 16:36:39,059 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:58510 - "GET /api/v1/master/plans/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:58531 - "GET /api/v1/master/plans/ HTTP/1.1" 403 Forbidden
INFO:     127.0.0.1:58531 - "OPTIONS /api/v1/super-admin/login HTTP/1.1" 200 OK
2026-02-22 16:36:57,380 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-22 16:36:57,380 INFO sqlalchemy.engine.Engine SELECT super_admins.id, super_admins.email, super_admins.username, super_admins.hashed_password, super_admins.full_name, super_admins.is_active, super_admins.phone, super_admins.position, super_admins.location, super_admins.state, super_admins.pin, super_admins.zip, super_admins.tax_no, super_admins.facebook_url, super_admins.twitter_url, super_admins.github_url, super_admins.dribbble_url, super_admins.created_at 
FROM super_admins 
WHERE super_admins.username = %s
2026-02-22 16:36:57,381 INFO sqlalchemy.engine.Engine [cached since 160.7s ago] ('superadmin1',)
2026-02-22 16:36:57,578 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:58531 - "POST /api/v1/super-admin/login HTTP/1.1" 200 OK
INFO:     127.0.0.1:58531 - "OPTIONS /api/v1/super-admin/me HTTP/1.1" 200 OK
2026-02-22 16:36:57,581 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-22 16:36:57,581 INFO sqlalchemy.engine.Engine SELECT super_admins.id, super_admins.email, super_admins.username, super_admins.hashed_password, super_admins.full_name, super_admins.is_active, super_admins.phone, super_admins.position, super_admins.location, super_admins.state, super_admins.pin, super_admins.zip, super_admins.tax_no, super_admins.facebook_url, super_admins.twitter_url, super_admins.github_url, super_admins.dribbble_url, super_admins.created_at 
FROM super_admins 
WHERE super_admins.id = %s
2026-02-22 16:36:57,581 INFO sqlalchemy.engine.Engine [cached since 160.7s ago] (1,)
2026-02-22 16:36:57,581 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:58534 - "GET /api/v1/super-admin/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:58534 - "OPTIONS /api/v1/master/schools/ HTTP/1.1" 200 OK
2026-02-22 16:36:58,001 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-22 16:36:58,001 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT schools.id AS id, schools.subdomain AS subdomain, schools.name AS name, schools.code AS code, schools.db_host AS db_host, schools.db_port AS db_port, schools.db_name AS db_name, schools.db_user AS db_user, schools.db_password_encrypted AS db_password_encrypted, schools.is_active AS is_active, schools.max_students AS max_students, schools.max_teachers AS max_teachers, schools.subscription_tier AS subscription_tier, schools.email AS email, schools.phone AS phone, schools.created_at AS created_at, schools.updated_at AS updated_at 
FROM schools) AS anon_1
2026-02-22 16:36:58,001 INFO sqlalchemy.engine.Engine [cached since 160.7s ago] ()
2026-02-22 16:36:58,003 INFO sqlalchemy.engine.Engine SELECT schools.id, schools.subdomain, schools.name, schools.code, schools.db_host, schools.db_port, schools.db_name, schools.db_user, schools.db_password_encrypted, schools.is_active, schools.max_students, schools.max_teachers, schools.subscription_tier, schools.email, schools.phone, schools.created_at, schools.updated_at 
FROM schools ORDER BY schools.created_at DESC 
 LIMIT %s, %s
2026-02-22 16:36:58,003 INFO sqlalchemy.engine.Engine [generated in 0.00022s] (0, 100)
2026-02-22 16:36:58,004 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:58531 - "GET /api/v1/master/schools/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:58539 - "OPTIONS /api/v1/master/plans/ HTTP/1.1" 200 OK
2026-02-22 16:37:06,899 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-22 16:37:06,900 INFO sqlalchemy.engine.Engine SELECT subscription_plans.id, subscription_plans.plan_name, subscription_plans.max_students, subscription_plans.monthly_price, subscription_plans.yearly_price, subscription_plans.is_active, subscription_plans.created_at, subscription_plans.updated_at 
FROM subscription_plans ORDER BY subscription_plans.monthly_price
2026-02-22 16:37:06,900 INFO sqlalchemy.engine.Engine [cached since 368.9s ago] ()
2026-02-22 16:37:06,901 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:58539 - "GET /api/v1/master/plans/ HTTP/1.1" 200 OK
2026-02-22 16:37:25,010 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-22 16:37:25,010 INFO sqlalchemy.engine.Engine SELECT subscription_plans.id, subscription_plans.plan_name, subscription_plans.max_students, subscription_plans.monthly_price, subscription_plans.yearly_price, subscription_plans.is_active, subscription_plans.created_at, subscription_plans.updated_at 
FROM subscription_plans ORDER BY subscription_plans.monthly_price
2026-02-22 16:37:25,010 INFO sqlalchemy.engine.Engine [cached since 387s ago] ()
2026-02-22 16:37:25,011 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:58552 - "GET /api/v1/master/plans/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:58541 - "GET /api/v1/master/plans/ HTTP/1.1" 401 Unauthorized
2026-02-22 16:42:44,037 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-22 16:42:44,037 INFO sqlalchemy.engine.Engine SELECT subscription_plans.id, subscription_plans.plan_name, subscription_plans.max_students, subscription_plans.monthly_price, subscription_plans.yearly_price, subscription_plans.is_active, subscription_plans.created_at, subscription_plans.updated_at 
FROM subscription_plans ORDER BY subscription_plans.monthly_price
2026-02-22 16:42:44,037 INFO sqlalchemy.engine.Engine [cached since 706s ago] ()
2026-02-22 16:42:44,039 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:58625 - "GET /api/v1/master/plans/ HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'app/tenancy/models.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [40528]
Process SpawnProcess-23:
Traceback (most recent call last):
  File "/opt/anaconda3/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/opt/anaconda3/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    ~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/uvicorn/server.py", line 65, in run
    return asyncio.run(self.serve(sockets=sockets))
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/anaconda3/lib/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "/opt/anaconda3/lib/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/uvicorn/server.py", line 69, in serve
    await self._serve(sockets)
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/uvicorn/server.py", line 76, in _serve
    config.load()
    ~~~~~~~~~~~^^
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/uvicorn/config.py", line 434, in load
    self.loaded_app = import_from_string(self.app)
                      ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
  File "/opt/anaconda3/lib/python3.13/importlib/__init__.py", line 88, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 1027, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/app/main.py", line 7, in <module>
    from app.tenancy.cache import tenant_cache
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/app/tenancy/cache.py", line 5, in <module>
    from app.tenancy.models import School
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/app/tenancy/models.py", line 126, in <module>
    class Note(MasterBase):
    ...<28 lines>...
            return f"<Note {self.id} (user_id={self.user_id})>"
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/app/tenancy/models.py", line 134, in Note
    user_id: Mapped[int] = mapped_column(Integer, ForeignKey("super_admins.id", ondelete="CASCADE"), index=True, nullable=False)
                                                  ^^^^^^^^^^
NameError: name 'ForeignKey' is not defined
WARNING:  WatchFiles detected changes in 'alembic/env.py'. Reloading...
Process SpawnProcess-24:
Traceback (most recent call last):
  File "/opt/anaconda3/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/opt/anaconda3/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    ~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/uvicorn/server.py", line 65, in run
    return asyncio.run(self.serve(sockets=sockets))
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/anaconda3/lib/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "/opt/anaconda3/lib/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/uvicorn/server.py", line 69, in serve
    await self._serve(sockets)
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/uvicorn/server.py", line 76, in _serve
    config.load()
    ~~~~~~~~~~~^^
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/uvicorn/config.py", line 434, in load
    self.loaded_app = import_from_string(self.app)
                      ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
  File "/opt/anaconda3/lib/python3.13/importlib/__init__.py", line 88, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 1027, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/app/main.py", line 7, in <module>
    from app.tenancy.cache import tenant_cache
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/app/tenancy/cache.py", line 5, in <module>
    from app.tenancy.models import School
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/app/tenancy/models.py", line 126, in <module>
    class Note(MasterBase):
    ...<28 lines>...
            return f"<Note {self.id} (user_id={self.user_id})>"
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/app/tenancy/models.py", line 134, in Note
    user_id: Mapped[int] = mapped_column(Integer, ForeignKey("super_admins.id", ondelete="CASCADE"), index=True, nullable=False)
                                                  ^^^^^^^^^^
NameError: name 'ForeignKey' is not defined
WARNING:  WatchFiles detected changes in 'app/tenancy/models.py'. Reloading...
/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/pydantic/_internal/_config.py:345: UserWarning: Valid config keys have changed in V2:
* 'orm_mode' has been renamed to 'from_attributes'
  warnings.warn(message, UserWarning)
INFO:     Started server process [43094]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'alembic/versions/15a179bf1ca6_add_notes_table.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [43094]
/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/pydantic/_internal/_config.py:345: UserWarning: Valid config keys have changed in V2:
* 'orm_mode' has been renamed to 'from_attributes'
  warnings.warn(message, UserWarning)
INFO:     Started server process [43227]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'alembic/env.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [43227]
/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/pydantic/_internal/_config.py:345: UserWarning: Valid config keys have changed in V2:
* 'orm_mode' has been renamed to 'from_attributes'
  warnings.warn(message, UserWarning)
INFO:     Started server process [43270]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'alembic/versions/15a179bf1ca6_add_notes_table.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [43270]
/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/pydantic/_internal/_config.py:345: UserWarning: Valid config keys have changed in V2:
* 'orm_mode' has been renamed to 'from_attributes'
  warnings.warn(message, UserWarning)
INFO:     Started server process [43398]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'alembic/env.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [43398]
/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/pydantic/_internal/_config.py:345: UserWarning: Valid config keys have changed in V2:
* 'orm_mode' has been renamed to 'from_attributes'
  warnings.warn(message, UserWarning)
INFO:     Started server process [43636]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'alembic/versions/a474c8c94c46_add_notes_table.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [43636]
/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/pydantic/_internal/_config.py:345: UserWarning: Valid config keys have changed in V2:
* 'orm_mode' has been renamed to 'from_attributes'
  warnings.warn(message, UserWarning)
INFO:     Started server process [43765]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'app/modules/notes/schemas.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [43765]
/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/pydantic/_internal/_config.py:345: UserWarning: Valid config keys have changed in V2:
* 'orm_mode' has been renamed to 'from_attributes'
  warnings.warn(message, UserWarning)
INFO:     Started server process [43957]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'app/modules/notes/__init__.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [43957]
/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/pydantic/_internal/_config.py:345: UserWarning: Valid config keys have changed in V2:
* 'orm_mode' has been renamed to 'from_attributes'
  warnings.warn(message, UserWarning)
INFO:     Started server process [44099]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'app/modules/notes/router.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [44099]
/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/pydantic/_internal/_config.py:345: UserWarning: Valid config keys have changed in V2:
* 'orm_mode' has been renamed to 'from_attributes'
  warnings.warn(message, UserWarning)
INFO:     Started server process [44115]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'app/main.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [44115]
/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/pydantic/_internal/_config.py:345: UserWarning: Valid config keys have changed in V2:
* 'orm_mode' has been renamed to 'from_attributes'
  warnings.warn(message, UserWarning)
Process SpawnProcess-34:
Traceback (most recent call last):
  File "/opt/anaconda3/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/opt/anaconda3/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    ~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/uvicorn/server.py", line 65, in run
    return asyncio.run(self.serve(sockets=sockets))
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/anaconda3/lib/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "/opt/anaconda3/lib/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/uvicorn/server.py", line 69, in serve
    await self._serve(sockets)
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/uvicorn/server.py", line 76, in _serve
    config.load()
    ~~~~~~~~~~~^^
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/uvicorn/config.py", line 434, in load
    self.loaded_app = import_from_string(self.app)
                      ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/uvicorn/importer.py", line 22, in import_from_string
    raise exc from None
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
  File "/opt/anaconda3/lib/python3.13/importlib/__init__.py", line 88, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 1027, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/app/main.py", line 93, in <module>
    from app.modules.notes.router import router as notes_router
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/app/modules/notes/router.py", line 6, in <module>
    from app.core.database import get_master_db
ModuleNotFoundError: No module named 'app.core.database'
WARNING:  WatchFiles detected changes in 'app/modules/notes/router.py'. Reloading...
/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/pydantic/_internal/_config.py:345: UserWarning: Valid config keys have changed in V2:
* 'orm_mode' has been renamed to 'from_attributes'
  warnings.warn(message, UserWarning)
INFO:     Started server process [44787]
INFO:     Waiting for application startup.
INFO:     Application startup complete.

============================================================
üè´ Mindwhile ERP - Multi-Tenant Architecture v2.0
============================================================

üìö API Documentation:
   Swagger UI: http://localhost:8000/docs
   ReDoc:      http://localhost:8000/redoc

üîß Tenant Resolution:
   Header: X-Tenant-ID or X-Tenant-Subdomain
   Subdomain: schoolname.erp.com

‚ö†Ô∏è  Note: Existing modules need async conversion
   Core infrastructure is ready for integration
============================================================

üöÄ Starting Mindwhile ERP - Multi-Tenant Architecture
üìä Master DB: localhost:3306/master_registry
üî¥ Redis: localhost:6379
‚úÖ Redis cache connected
‚úÖ Redis cache connected
INFO:     127.0.0.1:58864 - "OPTIONS /api/v1/master/notes/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:58881 - "OPTIONS /api/v1/master/notes/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:58888 - "OPTIONS /api/v1/master/notes/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:59093 - "OPTIONS /api/v1/master/notes/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:59126 - "GET /api/v1/master/plans/ HTTP/1.1" 403 Forbidden
INFO:     127.0.0.1:59093 - "GET /api/v1/master/notes/ HTTP/1.1" 403 Forbidden
INFO:     127.0.0.1:59093 - "GET /api/v1/master/notes/ HTTP/1.1" 403 Forbidden
INFO:     127.0.0.1:59093 - "OPTIONS /api/v1/super-admin/login HTTP/1.1" 200 OK
2026-02-22 17:20:03,210 INFO sqlalchemy.engine.Engine SELECT DATABASE()
2026-02-22 17:20:03,210 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-22 17:20:03,210 INFO sqlalchemy.engine.Engine SELECT @@sql_mode
2026-02-22 17:20:03,210 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-22 17:20:03,211 INFO sqlalchemy.engine.Engine SELECT @@lower_case_table_names
2026-02-22 17:20:03,211 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-22 17:20:03,211 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-22 17:20:03,213 INFO sqlalchemy.engine.Engine SELECT super_admins.id, super_admins.email, super_admins.username, super_admins.hashed_password, super_admins.full_name, super_admins.is_active, super_admins.phone, super_admins.position, super_admins.location, super_admins.state, super_admins.pin, super_admins.zip, super_admins.tax_no, super_admins.facebook_url, super_admins.twitter_url, super_admins.github_url, super_admins.dribbble_url, super_admins.created_at 
FROM super_admins 
WHERE super_admins.username = %s
2026-02-22 17:20:03,213 INFO sqlalchemy.engine.Engine [generated in 0.00007s] ('superadmin1',)
(trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
2026-02-22 17:20:03,426 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:59093 - "POST /api/v1/super-admin/login HTTP/1.1" 200 OK
INFO:     127.0.0.1:59093 - "OPTIONS /api/v1/super-admin/me HTTP/1.1" 200 OK
2026-02-22 17:20:03,434 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-22 17:20:03,434 INFO sqlalchemy.engine.Engine SELECT super_admins.id, super_admins.email, super_admins.username, super_admins.hashed_password, super_admins.full_name, super_admins.is_active, super_admins.phone, super_admins.position, super_admins.location, super_admins.state, super_admins.pin, super_admins.zip, super_admins.tax_no, super_admins.facebook_url, super_admins.twitter_url, super_admins.github_url, super_admins.dribbble_url, super_admins.created_at 
FROM super_admins 
WHERE super_admins.id = %s
2026-02-22 17:20:03,434 INFO sqlalchemy.engine.Engine [generated in 0.00008s] (1,)
2026-02-22 17:20:03,435 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:59150 - "GET /api/v1/super-admin/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:59150 - "OPTIONS /api/v1/master/schools/ HTTP/1.1" 200 OK
2026-02-22 17:20:03,817 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-22 17:20:03,819 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT schools.id AS id, schools.subdomain AS subdomain, schools.name AS name, schools.code AS code, schools.db_host AS db_host, schools.db_port AS db_port, schools.db_name AS db_name, schools.db_user AS db_user, schools.db_password_encrypted AS db_password_encrypted, schools.is_active AS is_active, schools.max_students AS max_students, schools.max_teachers AS max_teachers, schools.subscription_tier AS subscription_tier, schools.email AS email, schools.phone AS phone, schools.created_at AS created_at, schools.updated_at AS updated_at 
FROM schools) AS anon_1
2026-02-22 17:20:03,819 INFO sqlalchemy.engine.Engine [generated in 0.00012s] ()
2026-02-22 17:20:03,822 INFO sqlalchemy.engine.Engine SELECT schools.id, schools.subdomain, schools.name, schools.code, schools.db_host, schools.db_port, schools.db_name, schools.db_user, schools.db_password_encrypted, schools.is_active, schools.max_students, schools.max_teachers, schools.subscription_tier, schools.email, schools.phone, schools.created_at, schools.updated_at 
FROM schools ORDER BY schools.created_at DESC 
 LIMIT %s, %s
2026-02-22 17:20:03,822 INFO sqlalchemy.engine.Engine [generated in 0.00033s] (0, 100)
2026-02-22 17:20:03,824 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:59093 - "GET /api/v1/master/schools/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:59161 - "OPTIONS /api/v1/master/notes/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:59161 - "GET /api/v1/master/notes/ HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/uvicorn/protocols/http/httptools_impl.py", line 401, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 62, in wrapped_app
    raise exc
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/starlette/routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/starlette/routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 62, in wrapped_app
    raise exc
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/app/modules/notes/router.py", line 21, in get_notes
    query = select(Note).where(Note.user_id == current_admin.id, Note.deleted == False).order_by(Note.created_at.desc())
                                               ^^^^^^^^^^^^^^^^
AttributeError: 'dict' object has no attribute 'id'
INFO:     127.0.0.1:59191 - "OPTIONS /api/v1/master/notes/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:59191 - "POST /api/v1/master/notes/ HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/uvicorn/protocols/http/httptools_impl.py", line 401, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 62, in wrapped_app
    raise exc
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/starlette/routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/starlette/routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 62, in wrapped_app
    raise exc
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/app/modules/notes/router.py", line 37, in create_note
    user_id=current_admin.id,
            ^^^^^^^^^^^^^^^^
AttributeError: 'dict' object has no attribute 'id'
INFO:     127.0.0.1:59230 - "GET /api/v1/master/notes/ HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/uvicorn/protocols/http/httptools_impl.py", line 401, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 62, in wrapped_app
    raise exc
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/starlette/routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/starlette/routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 62, in wrapped_app
    raise exc
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/app/modules/notes/router.py", line 21, in get_notes
    query = select(Note).where(Note.user_id == current_admin.id, Note.deleted == False).order_by(Note.created_at.desc())
                                               ^^^^^^^^^^^^^^^^
AttributeError: 'dict' object has no attribute 'id'
INFO:     127.0.0.1:59236 - "POST /api/v1/master/notes/ HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/uvicorn/protocols/http/httptools_impl.py", line 401, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 62, in wrapped_app
    raise exc
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/starlette/routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/starlette/routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 62, in wrapped_app
    raise exc
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/app/modules/notes/router.py", line 37, in create_note
    user_id=current_admin.id,
            ^^^^^^^^^^^^^^^^
AttributeError: 'dict' object has no attribute 'id'
INFO:     127.0.0.1:59292 - "POST /api/v1/master/notes/ HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/uvicorn/protocols/http/httptools_impl.py", line 401, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 62, in wrapped_app
    raise exc
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/starlette/routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/starlette/routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 62, in wrapped_app
    raise exc
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/app/modules/notes/router.py", line 37, in create_note
    user_id=current_admin.id,
            ^^^^^^^^^^^^^^^^
AttributeError: 'dict' object has no attribute 'id'
WARNING:  WatchFiles detected changes in 'app/modules/notes/router.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [44787]
/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/pydantic/_internal/_config.py:345: UserWarning: Valid config keys have changed in V2:
* 'orm_mode' has been renamed to 'from_attributes'
  warnings.warn(message, UserWarning)
INFO:     Started server process [45176]
INFO:     Waiting for application startup.
INFO:     Application startup complete.

============================================================
üè´ Mindwhile ERP - Multi-Tenant Architecture v2.0
============================================================

üìö API Documentation:
   Swagger UI: http://localhost:8000/docs
   ReDoc:      http://localhost:8000/redoc

üîß Tenant Resolution:
   Header: X-Tenant-ID or X-Tenant-Subdomain
   Subdomain: schoolname.erp.com

‚ö†Ô∏è  Note: Existing modules need async conversion
   Core infrastructure is ready for integration
============================================================

üöÄ Starting Mindwhile ERP - Multi-Tenant Architecture
üìä Master DB: localhost:3306/master_registry
üî¥ Redis: localhost:6379
‚úÖ Redis cache connected
‚úÖ Redis cache connected
2026-02-22 17:27:12,149 INFO sqlalchemy.engine.Engine SELECT DATABASE()
2026-02-22 17:27:12,149 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-22 17:27:12,150 INFO sqlalchemy.engine.Engine SELECT @@sql_mode
2026-02-22 17:27:12,150 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-22 17:27:12,150 INFO sqlalchemy.engine.Engine SELECT @@lower_case_table_names
2026-02-22 17:27:12,150 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-22 17:27:12,150 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-22 17:27:12,151 INFO sqlalchemy.engine.Engine INSERT INTO notes (user_id, title, color, datef, deleted) VALUES (%s, %s, %s, now(), %s)
2026-02-22 17:27:12,151 INFO sqlalchemy.engine.Engine [generated in 0.00010s] ('1', 'Buy groceries for the week', 'primary', 0)
2026-02-22 17:27:12,153 INFO sqlalchemy.engine.Engine COMMIT
2026-02-22 17:27:12,156 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-22 17:27:12,157 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.user_id, notes.title, notes.color, notes.datef, notes.deleted, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = %s
2026-02-22 17:27:12,157 INFO sqlalchemy.engine.Engine [generated in 0.00011s] (1,)
2026-02-22 17:27:12,159 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:59783 - "POST /api/v1/master/notes/ HTTP/1.1" 201 Created
INFO:     127.0.0.1:59835 - "OPTIONS /api/v1/master/notes/1 HTTP/1.1" 200 OK
2026-02-22 17:27:23,148 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-22 17:27:23,150 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.user_id, notes.title, notes.color, notes.datef, notes.deleted, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = %s AND notes.user_id = %s
2026-02-22 17:27:23,150 INFO sqlalchemy.engine.Engine [generated in 0.00016s] (1, '1')
2026-02-22 17:27:23,151 INFO sqlalchemy.engine.Engine UPDATE notes SET color=%s, updated_at=now() WHERE notes.id = %s
2026-02-22 17:27:23,151 INFO sqlalchemy.engine.Engine [generated in 0.00009s] ('error', 1)
2026-02-22 17:27:23,152 INFO sqlalchemy.engine.Engine COMMIT
2026-02-22 17:27:23,153 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-22 17:27:23,153 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.user_id, notes.title, notes.color, notes.datef, notes.deleted, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = %s
2026-02-22 17:27:23,153 INFO sqlalchemy.engine.Engine [cached since 11s ago] (1,)
2026-02-22 17:27:23,154 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:59835 - "PUT /api/v1/master/notes/1 HTTP/1.1" 200 OK
2026-02-22 17:28:28,862 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-22 17:28:28,862 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.user_id, notes.title, notes.color, notes.datef, notes.deleted, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = %s AND notes.user_id = %s
2026-02-22 17:28:28,862 INFO sqlalchemy.engine.Engine [cached since 65.71s ago] (1, '1')
2026-02-22 17:28:28,865 INFO sqlalchemy.engine.Engine UPDATE notes SET title=%s, updated_at=now() WHERE notes.id = %s
2026-02-22 17:28:28,865 INFO sqlalchemy.engine.Engine [generated in 0.00016s] ('Buy groceries: milk, eggs, breadBuy groceries: milk, eggs, breadBuy groceries for the week', 1)
2026-02-22 17:28:28,865 INFO sqlalchemy.engine.Engine COMMIT
2026-02-22 17:28:28,866 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-22 17:28:28,866 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.user_id, notes.title, notes.color, notes.datef, notes.deleted, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = %s AND notes.user_id = %s
2026-02-22 17:28:28,866 INFO sqlalchemy.engine.Engine [cached since 65.72s ago] (1, '1')
2026-02-22 17:28:28,867 INFO sqlalchemy.engine.Engine UPDATE notes SET deleted=%s, updated_at=now() WHERE notes.id = %s
2026-02-22 17:28:28,867 INFO sqlalchemy.engine.Engine [generated in 0.00006s] (1, 1)
2026-02-22 17:28:28,867 INFO sqlalchemy.engine.Engine COMMIT
2026-02-22 17:28:28,867 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-22 17:28:28,867 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.user_id, notes.title, notes.color, notes.datef, notes.deleted, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = %s
2026-02-22 17:28:28,867 INFO sqlalchemy.engine.Engine [cached since 76.71s ago] (1,)
2026-02-22 17:28:28,868 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:60116 - "DELETE /api/v1/master/notes/1 HTTP/1.1" 204 No Content
INFO:     127.0.0.1:60114 - "PUT /api/v1/master/notes/1 HTTP/1.1" 200 OK
2026-02-22 17:32:54,712 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-22 17:32:54,717 INFO sqlalchemy.engine.Engine INSERT INTO notes (user_id, title, color, datef, deleted) VALUES (%s, %s, %s, now(), %s)
2026-02-22 17:32:54,717 INFO sqlalchemy.engine.Engine [cached since 342.6s ago] ('1', 'ewasrdfghj', 'primary', 0)
2026-02-22 17:32:54,719 INFO sqlalchemy.engine.Engine COMMIT
2026-02-22 17:32:54,722 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-22 17:32:54,722 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.user_id, notes.title, notes.color, notes.datef, notes.deleted, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = %s
2026-02-22 17:32:54,722 INFO sqlalchemy.engine.Engine [cached since 342.6s ago] (2,)
2026-02-22 17:32:54,725 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:61223 - "POST /api/v1/master/notes/ HTTP/1.1" 201 Created
2026-02-22 17:33:00,553 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-22 17:33:00,554 INFO sqlalchemy.engine.Engine INSERT INTO notes (user_id, title, color, datef, deleted) VALUES (%s, %s, %s, now(), %s)
2026-02-22 17:33:00,554 INFO sqlalchemy.engine.Engine [cached since 348.4s ago] ('1', 'hjggyu', 'primary', 0)
2026-02-22 17:33:00,555 INFO sqlalchemy.engine.Engine COMMIT
2026-02-22 17:33:00,557 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-22 17:33:00,557 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.user_id, notes.title, notes.color, notes.datef, notes.deleted, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = %s
2026-02-22 17:33:00,557 INFO sqlalchemy.engine.Engine [cached since 348.4s ago] (3,)
2026-02-22 17:33:00,558 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:61250 - "POST /api/v1/master/notes/ HTTP/1.1" 201 Created
INFO:     127.0.0.1:50102 - "OPTIONS /api/v1/master/notes/2 HTTP/1.1" 200 OK
INFO:     127.0.0.1:50102 - "PUT /api/v1/master/notes/2 HTTP/1.1" 401 Unauthorized
INFO:     127.0.0.1:50171 - "OPTIONS /api/v1/super-admin/login HTTP/1.1" 200 OK
2026-02-22 20:11:15,521 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-22 20:11:15,525 INFO sqlalchemy.engine.Engine SELECT super_admins.id, super_admins.email, super_admins.username, super_admins.hashed_password, super_admins.full_name, super_admins.is_active, super_admins.phone, super_admins.position, super_admins.location, super_admins.state, super_admins.pin, super_admins.zip, super_admins.tax_no, super_admins.facebook_url, super_admins.twitter_url, super_admins.github_url, super_admins.dribbble_url, super_admins.created_at 
FROM super_admins 
WHERE super_admins.username = %s
2026-02-22 20:11:15,525 INFO sqlalchemy.engine.Engine [generated in 0.00039s] ('superadmin1',)
(trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
2026-02-22 20:11:15,746 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:50171 - "POST /api/v1/super-admin/login HTTP/1.1" 200 OK
INFO:     127.0.0.1:50171 - "OPTIONS /api/v1/super-admin/me HTTP/1.1" 200 OK
2026-02-22 20:11:15,752 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-22 20:11:15,753 INFO sqlalchemy.engine.Engine SELECT super_admins.id, super_admins.email, super_admins.username, super_admins.hashed_password, super_admins.full_name, super_admins.is_active, super_admins.phone, super_admins.position, super_admins.location, super_admins.state, super_admins.pin, super_admins.zip, super_admins.tax_no, super_admins.facebook_url, super_admins.twitter_url, super_admins.github_url, super_admins.dribbble_url, super_admins.created_at 
FROM super_admins 
WHERE super_admins.id = %s
2026-02-22 20:11:15,753 INFO sqlalchemy.engine.Engine [generated in 0.00007s] (1,)
2026-02-22 20:11:15,753 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:50173 - "GET /api/v1/super-admin/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:50173 - "OPTIONS /api/v1/master/schools/ HTTP/1.1" 200 OK
2026-02-22 20:11:16,148 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-22 20:11:16,150 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT schools.id AS id, schools.subdomain AS subdomain, schools.name AS name, schools.code AS code, schools.db_host AS db_host, schools.db_port AS db_port, schools.db_name AS db_name, schools.db_user AS db_user, schools.db_password_encrypted AS db_password_encrypted, schools.is_active AS is_active, schools.max_students AS max_students, schools.max_teachers AS max_teachers, schools.subscription_tier AS subscription_tier, schools.email AS email, schools.phone AS phone, schools.created_at AS created_at, schools.updated_at AS updated_at 
FROM schools) AS anon_1
2026-02-22 20:11:16,150 INFO sqlalchemy.engine.Engine [generated in 0.00013s] ()
2026-02-22 20:11:16,151 INFO sqlalchemy.engine.Engine SELECT schools.id, schools.subdomain, schools.name, schools.code, schools.db_host, schools.db_port, schools.db_name, schools.db_user, schools.db_password_encrypted, schools.is_active, schools.max_students, schools.max_teachers, schools.subscription_tier, schools.email, schools.phone, schools.created_at, schools.updated_at 
FROM schools ORDER BY schools.created_at DESC 
 LIMIT %s, %s
2026-02-22 20:11:16,151 INFO sqlalchemy.engine.Engine [generated in 0.00008s] (0, 100)
2026-02-22 20:11:16,152 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:50171 - "GET /api/v1/master/schools/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:50214 - "OPTIONS /api/v1/master/notes/ HTTP/1.1" 200 OK
2026-02-22 20:11:22,939 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-22 20:11:22,940 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.user_id, notes.title, notes.color, notes.datef, notes.deleted, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.user_id = %s AND notes.deleted = false ORDER BY notes.created_at DESC
2026-02-22 20:11:22,940 INFO sqlalchemy.engine.Engine [generated in 0.00018s] ('1',)
2026-02-22 20:11:22,943 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:50214 - "GET /api/v1/master/notes/ HTTP/1.1" 200 OK
2026-02-22 20:11:25,681 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-22 20:11:25,681 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.user_id, notes.title, notes.color, notes.datef, notes.deleted, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = %s AND notes.user_id = %s
2026-02-22 20:11:25,681 INFO sqlalchemy.engine.Engine [cached since 9843s ago] (2, '1')
2026-02-22 20:11:25,683 INFO sqlalchemy.engine.Engine UPDATE notes SET color=%s, updated_at=now() WHERE notes.id = %s
2026-02-22 20:11:25,683 INFO sqlalchemy.engine.Engine [cached since 9843s ago] ('error', 2)
2026-02-22 20:11:25,684 INFO sqlalchemy.engine.Engine COMMIT
2026-02-22 20:11:25,688 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-22 20:11:25,688 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.user_id, notes.title, notes.color, notes.datef, notes.deleted, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = %s
2026-02-22 20:11:25,688 INFO sqlalchemy.engine.Engine [cached since 9854s ago] (2,)
2026-02-22 20:11:25,689 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:50214 - "PUT /api/v1/master/notes/2 HTTP/1.1" 200 OK
INFO:     127.0.0.1:50214 - "OPTIONS /api/v1/master/notes/3 HTTP/1.1" 200 OK
2026-02-22 20:11:29,565 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-22 20:11:29,566 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.user_id, notes.title, notes.color, notes.datef, notes.deleted, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = %s AND notes.user_id = %s
2026-02-22 20:11:29,566 INFO sqlalchemy.engine.Engine [cached since 9846s ago] (3, '1')
2026-02-22 20:11:29,567 INFO sqlalchemy.engine.Engine UPDATE notes SET color=%s, updated_at=now() WHERE notes.id = %s
2026-02-22 20:11:29,567 INFO sqlalchemy.engine.Engine [cached since 9846s ago] ('secondary', 3)
2026-02-22 20:11:29,568 INFO sqlalchemy.engine.Engine COMMIT
2026-02-22 20:11:29,570 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-22 20:11:29,570 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.user_id, notes.title, notes.color, notes.datef, notes.deleted, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = %s
2026-02-22 20:11:29,570 INFO sqlalchemy.engine.Engine [cached since 9857s ago] (3,)
2026-02-22 20:11:29,571 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:50216 - "PUT /api/v1/master/notes/3 HTTP/1.1" 200 OK
INFO:     127.0.0.1:50221 - "OPTIONS /api/v1/master/notes/ HTTP/1.1" 200 OK
2026-02-22 20:11:37,076 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-22 20:11:37,077 INFO sqlalchemy.engine.Engine INSERT INTO notes (user_id, title, color, datef, deleted) VALUES (%s, %s, %s, now(), %s)
2026-02-22 20:11:37,077 INFO sqlalchemy.engine.Engine [cached since 9865s ago] ('1', 'kvd kavkvakjanvsas', 'primary', 0)
2026-02-22 20:11:37,078 INFO sqlalchemy.engine.Engine COMMIT
2026-02-22 20:11:37,080 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-22 20:11:37,081 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.user_id, notes.title, notes.color, notes.datef, notes.deleted, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = %s
2026-02-22 20:11:37,081 INFO sqlalchemy.engine.Engine [cached since 9865s ago] (4,)
2026-02-22 20:11:37,082 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:50221 - "POST /api/v1/master/notes/ HTTP/1.1" 201 Created
INFO:     127.0.0.1:50221 - "OPTIONS /api/v1/master/notes/4 HTTP/1.1" 200 OK
2026-02-22 20:11:39,077 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-22 20:11:39,077 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.user_id, notes.title, notes.color, notes.datef, notes.deleted, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = %s AND notes.user_id = %s
2026-02-22 20:11:39,077 INFO sqlalchemy.engine.Engine [cached since 9856s ago] (4, '1')
2026-02-22 20:11:39,077 INFO sqlalchemy.engine.Engine UPDATE notes SET color=%s, updated_at=now() WHERE notes.id = %s
2026-02-22 20:11:39,077 INFO sqlalchemy.engine.Engine [cached since 9856s ago] ('success', 4)
2026-02-22 20:11:39,078 INFO sqlalchemy.engine.Engine COMMIT
2026-02-22 20:11:39,080 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-22 20:11:39,080 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.user_id, notes.title, notes.color, notes.datef, notes.deleted, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = %s
2026-02-22 20:11:39,080 INFO sqlalchemy.engine.Engine [cached since 9867s ago] (4,)
2026-02-22 20:11:39,080 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:50223 - "PUT /api/v1/master/notes/4 HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'app/tenancy/models.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [45176]
/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/pydantic/_internal/_config.py:345: UserWarning: Valid config keys have changed in V2:
* 'orm_mode' has been renamed to 'from_attributes'
  warnings.warn(message, UserWarning)
INFO:     Started server process [49460]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'alembic/versions/20a07245ffe9_add_tickets_table.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [49460]
/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/pydantic/_internal/_config.py:345: UserWarning: Valid config keys have changed in V2:
* 'orm_mode' has been renamed to 'from_attributes'
  warnings.warn(message, UserWarning)
INFO:     Started server process [49652]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'app/modules/tickets/__init__.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [49652]
/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/pydantic/_internal/_config.py:345: UserWarning: Valid config keys have changed in V2:
* 'orm_mode' has been renamed to 'from_attributes'
  warnings.warn(message, UserWarning)
INFO:     Started server process [49926]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'app/modules/tickets/schemas.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [49926]
/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/pydantic/_internal/_config.py:345: UserWarning: Valid config keys have changed in V2:
* 'orm_mode' has been renamed to 'from_attributes'
  warnings.warn(message, UserWarning)
INFO:     Started server process [49948]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'app/modules/tickets/router.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [49948]
/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/pydantic/_internal/_config.py:345: UserWarning: Valid config keys have changed in V2:
* 'orm_mode' has been renamed to 'from_attributes'
  warnings.warn(message, UserWarning)
INFO:     Started server process [49975]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'app/main.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [49975]
/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/pydantic/_internal/_config.py:345: UserWarning: Valid config keys have changed in V2:
* 'orm_mode' has been renamed to 'from_attributes'
  warnings.warn(message, UserWarning)
INFO:     Started server process [49984]
INFO:     Waiting for application startup.
INFO:     Application startup complete.

============================================================
üè´ Mindwhile ERP - Multi-Tenant Architecture v2.0
============================================================

üìö API Documentation:
   Swagger UI: http://localhost:8000/docs
   ReDoc:      http://localhost:8000/redoc

üîß Tenant Resolution:
   Header: X-Tenant-ID or X-Tenant-Subdomain
   Subdomain: schoolname.erp.com

‚ö†Ô∏è  Note: Existing modules need async conversion
   Core infrastructure is ready for integration
============================================================

üöÄ Starting Mindwhile ERP - Multi-Tenant Architecture
üìä Master DB: localhost:3306/master_registry
üî¥ Redis: localhost:6379
‚úÖ Redis cache connected
‚úÖ Redis cache connected
INFO:     127.0.0.1:50319 - "OPTIONS /api/v1/master/tickets/ HTTP/1.1" 200 OK
2026-02-22 20:23:19,497 INFO sqlalchemy.engine.Engine SELECT DATABASE()
2026-02-22 20:23:19,498 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-22 20:23:19,498 INFO sqlalchemy.engine.Engine SELECT @@sql_mode
2026-02-22 20:23:19,498 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-22 20:23:19,498 INFO sqlalchemy.engine.Engine SELECT @@lower_case_table_names
2026-02-22 20:23:19,498 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-22 20:23:19,499 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-22 20:23:19,501 INFO sqlalchemy.engine.Engine SELECT tickets.id, tickets.user_id, tickets.`ticketTitle`, tickets.`ticketDescription`, tickets.`Status`, tickets.`Label`, tickets.thumb, tickets.`AgentName`, tickets.`Date`, tickets.deleted 
FROM tickets 
WHERE tickets.user_id = %s AND tickets.deleted = false ORDER BY tickets.`Date` DESC
2026-02-22 20:23:19,501 INFO sqlalchemy.engine.Engine [generated in 0.00008s] ('1',)
2026-02-22 20:23:19,503 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:50319 - "GET /api/v1/master/tickets/ HTTP/1.1" 200 OK
2026-02-22 20:23:42,166 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-22 20:23:42,167 INFO sqlalchemy.engine.Engine SELECT tickets.id, tickets.user_id, tickets.`ticketTitle`, tickets.`ticketDescription`, tickets.`Status`, tickets.`Label`, tickets.thumb, tickets.`AgentName`, tickets.`Date`, tickets.deleted 
FROM tickets 
WHERE tickets.user_id = %s AND tickets.deleted = false ORDER BY tickets.`Date` DESC
2026-02-22 20:23:42,167 INFO sqlalchemy.engine.Engine [cached since 22.67s ago] ('1',)
2026-02-22 20:23:42,169 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:50321 - "GET /api/v1/master/tickets/ HTTP/1.1" 200 OK
2026-02-22 20:24:11,925 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-22 20:24:11,925 INFO sqlalchemy.engine.Engine SELECT tickets.id, tickets.user_id, tickets.`ticketTitle`, tickets.`ticketDescription`, tickets.`Status`, tickets.`Label`, tickets.thumb, tickets.`AgentName`, tickets.`Date`, tickets.deleted 
FROM tickets 
WHERE tickets.user_id = %s AND tickets.deleted = false ORDER BY tickets.`Date` DESC
2026-02-22 20:24:11,925 INFO sqlalchemy.engine.Engine [cached since 52.42s ago] ('1',)
2026-02-22 20:24:11,926 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:50356 - "GET /api/v1/master/tickets/ HTTP/1.1" 200 OK
2026-02-22 20:24:36,202 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-22 20:24:36,202 INFO sqlalchemy.engine.Engine SELECT tickets.id, tickets.user_id, tickets.`ticketTitle`, tickets.`ticketDescription`, tickets.`Status`, tickets.`Label`, tickets.thumb, tickets.`AgentName`, tickets.`Date`, tickets.deleted 
FROM tickets 
WHERE tickets.user_id = %s AND tickets.deleted = false ORDER BY tickets.`Date` DESC
2026-02-22 20:24:36,202 INFO sqlalchemy.engine.Engine [cached since 76.7s ago] ('1',)
2026-02-22 20:24:36,204 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:50368 - "GET /api/v1/master/tickets/ HTTP/1.1" 200 OK
2026-02-22 20:24:51,461 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-22 20:24:51,461 INFO sqlalchemy.engine.Engine SELECT tickets.id, tickets.user_id, tickets.`ticketTitle`, tickets.`ticketDescription`, tickets.`Status`, tickets.`Label`, tickets.thumb, tickets.`AgentName`, tickets.`Date`, tickets.deleted 
FROM tickets 
WHERE tickets.user_id = %s AND tickets.deleted = false ORDER BY tickets.`Date` DESC
2026-02-22 20:24:51,461 INFO sqlalchemy.engine.Engine [cached since 91.96s ago] ('1',)
2026-02-22 20:24:51,462 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:50378 - "GET /api/v1/master/tickets/ HTTP/1.1" 200 OK
2026-02-22 20:24:59,948 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-22 20:24:59,948 INFO sqlalchemy.engine.Engine SELECT tickets.id, tickets.user_id, tickets.`ticketTitle`, tickets.`ticketDescription`, tickets.`Status`, tickets.`Label`, tickets.thumb, tickets.`AgentName`, tickets.`Date`, tickets.deleted 
FROM tickets 
WHERE tickets.user_id = %s AND tickets.deleted = false ORDER BY tickets.`Date` DESC
2026-02-22 20:24:59,948 INFO sqlalchemy.engine.Engine [cached since 100.4s ago] ('1',)
2026-02-22 20:24:59,949 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:50389 - "GET /api/v1/master/tickets/ HTTP/1.1" 200 OK
2026-02-22 20:25:40,561 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-22 20:25:40,562 INFO sqlalchemy.engine.Engine SELECT tickets.id, tickets.user_id, tickets.`ticketTitle`, tickets.`ticketDescription`, tickets.`Status`, tickets.`Label`, tickets.thumb, tickets.`AgentName`, tickets.`Date`, tickets.deleted 
FROM tickets 
WHERE tickets.user_id = %s AND tickets.deleted = false ORDER BY tickets.`Date` DESC
2026-02-22 20:25:40,562 INFO sqlalchemy.engine.Engine [cached since 141.1s ago] ('1',)
2026-02-22 20:25:40,563 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:50402 - "GET /api/v1/master/tickets/ HTTP/1.1" 200 OK
2026-02-22 20:26:08,842 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-22 20:26:08,844 INFO sqlalchemy.engine.Engine SELECT tickets.id, tickets.user_id, tickets.`ticketTitle`, tickets.`ticketDescription`, tickets.`Status`, tickets.`Label`, tickets.thumb, tickets.`AgentName`, tickets.`Date`, tickets.deleted 
FROM tickets 
WHERE tickets.user_id = %s AND tickets.deleted = false ORDER BY tickets.`Date` DESC
2026-02-22 20:26:08,844 INFO sqlalchemy.engine.Engine [cached since 169.3s ago] ('1',)
2026-02-22 20:26:08,846 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:50412 - "GET /api/v1/master/tickets/ HTTP/1.1" 200 OK
2026-02-22 20:26:58,415 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-22 20:26:58,416 INFO sqlalchemy.engine.Engine SELECT tickets.id, tickets.user_id, tickets.`ticketTitle`, tickets.`ticketDescription`, tickets.`Status`, tickets.`Label`, tickets.thumb, tickets.`AgentName`, tickets.`Date`, tickets.deleted 
FROM tickets 
WHERE tickets.user_id = %s AND tickets.deleted = false ORDER BY tickets.`Date` DESC
2026-02-22 20:26:58,416 INFO sqlalchemy.engine.Engine [cached since 218.9s ago] ('1',)
2026-02-22 20:26:58,417 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:50435 - "GET /api/v1/master/tickets/ HTTP/1.1" 200 OK
2026-02-22 20:27:23,330 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-22 20:27:23,331 INFO sqlalchemy.engine.Engine SELECT tickets.id, tickets.user_id, tickets.`ticketTitle`, tickets.`ticketDescription`, tickets.`Status`, tickets.`Label`, tickets.thumb, tickets.`AgentName`, tickets.`Date`, tickets.deleted 
FROM tickets 
WHERE tickets.user_id = %s AND tickets.deleted = false ORDER BY tickets.`Date` DESC
2026-02-22 20:27:23,331 INFO sqlalchemy.engine.Engine [cached since 243.8s ago] ('1',)
2026-02-22 20:27:23,331 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:50445 - "GET /api/v1/master/tickets/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:50461 - "OPTIONS /api/v1/master/tickets/ HTTP/1.1" 200 OK
2026-02-22 20:28:49,364 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-22 20:28:49,372 INFO sqlalchemy.engine.Engine INSERT INTO tickets (user_id, `ticketTitle`, `ticketDescription`, `Status`, `Label`, thumb, `AgentName`, `Date`, deleted) VALUES (%s, %s, %s, %s, %s, %s, %s, now(), %s)
2026-02-22 20:28:49,372 INFO sqlalchemy.engine.Engine [generated in 0.00345s] ('1', 'System Login IssuesSystem Login Issues', 'Users are reporting 500 errors on login.', 'Open', 'primary', '/src/assets/images/profile/user-1.jpg', 'Liam', 0)
2026-02-22 20:28:49,379 INFO sqlalchemy.engine.Engine COMMIT
2026-02-22 20:28:49,382 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-22 20:28:49,383 INFO sqlalchemy.engine.Engine SELECT tickets.id, tickets.user_id, tickets.`ticketTitle`, tickets.`ticketDescription`, tickets.`Status`, tickets.`Label`, tickets.thumb, tickets.`AgentName`, tickets.`Date`, tickets.deleted 
FROM tickets 
WHERE tickets.id = %s
2026-02-22 20:28:49,383 INFO sqlalchemy.engine.Engine [generated in 0.00009s] (1,)
2026-02-22 20:28:49,384 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:50461 - "POST /api/v1/master/tickets/ HTTP/1.1" 201 Created
2026-02-22 20:29:01,525 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-22 20:29:01,527 INFO sqlalchemy.engine.Engine SELECT tickets.id, tickets.user_id, tickets.`ticketTitle`, tickets.`ticketDescription`, tickets.`Status`, tickets.`Label`, tickets.thumb, tickets.`AgentName`, tickets.`Date`, tickets.deleted 
FROM tickets 
WHERE tickets.user_id = %s AND tickets.deleted = false ORDER BY tickets.`Date` DESC
2026-02-22 20:29:01,527 INFO sqlalchemy.engine.Engine [cached since 342s ago] ('1',)
2026-02-22 20:29:01,529 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:50463 - "GET /api/v1/master/tickets/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:50481 - "OPTIONS /api/v1/master/tickets/1 HTTP/1.1" 200 OK
2026-02-22 20:29:29,458 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-22 20:29:29,462 INFO sqlalchemy.engine.Engine SELECT tickets.id, tickets.user_id, tickets.`ticketTitle`, tickets.`ticketDescription`, tickets.`Status`, tickets.`Label`, tickets.thumb, tickets.`AgentName`, tickets.`Date`, tickets.deleted 
FROM tickets 
WHERE tickets.id = %s AND tickets.user_id = %s
2026-02-22 20:29:29,465 INFO sqlalchemy.engine.Engine [generated in 0.00471s] (1, '1')
2026-02-22 20:29:29,473 INFO sqlalchemy.engine.Engine UPDATE tickets SET deleted=%s WHERE tickets.id = %s
2026-02-22 20:29:29,473 INFO sqlalchemy.engine.Engine [generated in 0.00016s] (1, 1)
2026-02-22 20:29:29,475 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:50481 - "DELETE /api/v1/master/tickets/1 HTTP/1.1" 204 No Content
INFO:     127.0.0.1:50527 - "OPTIONS /api/v1/super-admin/login HTTP/1.1" 200 OK
2026-02-22 20:37:21,255 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-22 20:37:21,262 INFO sqlalchemy.engine.Engine SELECT super_admins.id, super_admins.email, super_admins.username, super_admins.hashed_password, super_admins.full_name, super_admins.is_active, super_admins.phone, super_admins.position, super_admins.location, super_admins.state, super_admins.pin, super_admins.zip, super_admins.tax_no, super_admins.facebook_url, super_admins.twitter_url, super_admins.github_url, super_admins.dribbble_url, super_admins.created_at 
FROM super_admins 
WHERE super_admins.username = %s
2026-02-22 20:37:21,262 INFO sqlalchemy.engine.Engine [generated in 0.00052s] ('superadmin1',)
(trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/Users/venkatreddy/Desktop/MindwhileERP/mindwhile-erp-fastapi/venv/lib/python3.13/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
2026-02-22 20:37:21,471 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:50527 - "POST /api/v1/super-admin/login HTTP/1.1" 200 OK
INFO:     127.0.0.1:50527 - "OPTIONS /api/v1/super-admin/me HTTP/1.1" 200 OK
2026-02-22 20:37:21,477 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-22 20:37:21,478 INFO sqlalchemy.engine.Engine SELECT super_admins.id, super_admins.email, super_admins.username, super_admins.hashed_password, super_admins.full_name, super_admins.is_active, super_admins.phone, super_admins.position, super_admins.location, super_admins.state, super_admins.pin, super_admins.zip, super_admins.tax_no, super_admins.facebook_url, super_admins.twitter_url, super_admins.github_url, super_admins.dribbble_url, super_admins.created_at 
FROM super_admins 
WHERE super_admins.id = %s
2026-02-22 20:37:21,478 INFO sqlalchemy.engine.Engine [generated in 0.00008s] (1,)
2026-02-22 20:37:21,478 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:50529 - "GET /api/v1/super-admin/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:50529 - "OPTIONS /api/v1/master/schools/ HTTP/1.1" 200 OK
2026-02-22 20:37:21,892 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-22 20:37:21,894 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT schools.id AS id, schools.subdomain AS subdomain, schools.name AS name, schools.code AS code, schools.db_host AS db_host, schools.db_port AS db_port, schools.db_name AS db_name, schools.db_user AS db_user, schools.db_password_encrypted AS db_password_encrypted, schools.is_active AS is_active, schools.max_students AS max_students, schools.max_teachers AS max_teachers, schools.subscription_tier AS subscription_tier, schools.email AS email, schools.phone AS phone, schools.created_at AS created_at, schools.updated_at AS updated_at 
FROM schools) AS anon_1
2026-02-22 20:37:21,894 INFO sqlalchemy.engine.Engine [generated in 0.00009s] ()
2026-02-22 20:37:21,896 INFO sqlalchemy.engine.Engine SELECT schools.id, schools.subdomain, schools.name, schools.code, schools.db_host, schools.db_port, schools.db_name, schools.db_user, schools.db_password_encrypted, schools.is_active, schools.max_students, schools.max_teachers, schools.subscription_tier, schools.email, schools.phone, schools.created_at, schools.updated_at 
FROM schools ORDER BY schools.created_at DESC 
 LIMIT %s, %s
2026-02-22 20:37:21,896 INFO sqlalchemy.engine.Engine [generated in 0.00028s] (0, 100)
2026-02-22 20:37:21,898 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:50527 - "GET /api/v1/master/schools/ HTTP/1.1" 200 OK
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [49984]
INFO:     Stopping reloader process [32441]
